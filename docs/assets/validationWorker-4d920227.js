var Md=Object.defineProperty;var Cd=($e,ye,Ee)=>ye in $e?Md($e,ye,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):$e[ye]=Ee;var sn=($e,ye,Ee)=>(Cd($e,typeof ye!="symbol"?ye+"":ye,Ee),Ee);(function(){"use strict";function $e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ye={exports:{}},Ee={},Se={},Ce={},rt={},z={},nt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(P){if(super(),!e.IDENTIFIER.test(P))throw new Error("CodeGen: name must be a valid identifier");this.str=P}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(P){super(),this._items=typeof P=="string"?[P]:P}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const P=this._items[0];return P===""||P==='""'}get str(){var P;return(P=this._str)!==null&&P!==void 0?P:this._str=this._items.reduce((N,R)=>`${N}${R}`,"")}get names(){var P;return(P=this._names)!==null&&P!==void 0?P:this._names=this._items.reduce((N,R)=>(R instanceof r&&(N[R.str]=(N[R.str]||0)+1),N),{})}}e._Code=n,e.nil=new n("");function a(h,...P){const N=[h[0]];let R=0;for(;R<P.length;)o(N,P[R]),N.push(h[++R]);return new n(N)}e._=a;const s=new n("+");function i(h,...P){const N=[v(h[0])];let R=0;for(;R<P.length;)N.push(s),o(N,P[R]),N.push(s,v(h[++R]));return d(N),new n(N)}e.str=i;function o(h,P){P instanceof n?h.push(...P._items):P instanceof r?h.push(P):h.push(m(P))}e.addCodeArg=o;function d(h){let P=1;for(;P<h.length-1;){if(h[P]===s){const N=u(h[P-1],h[P+1]);if(N!==void 0){h.splice(P-1,3,N);continue}h[P++]="+"}P++}}function u(h,P){if(P==='""')return h;if(h==='""')return P;if(typeof h=="string")return P instanceof r||h[h.length-1]!=='"'?void 0:typeof P!="string"?`${h.slice(0,-1)}${P}"`:P[0]==='"'?h.slice(0,-1)+P.slice(1):void 0;if(typeof P=="string"&&P[0]==='"'&&!(h instanceof r))return`"${h}${P.slice(1)}`}function l(h,P){return P.emptyStr()?h:h.emptyStr()?P:i`${h}${P}`}e.strConcat=l;function m(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:v(Array.isArray(h)?h.join(","):h)}function g(h){return new n(v(h))}e.stringify=g;function v(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=v;function $(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):a`[${h}]`}e.getProperty=$;function w(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=w;function y(h){return new n(h.toString())}e.regexpCode=y})(nt);var Wt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=nt;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(d){d[d.Started=0]="Started",d[d.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:u,parent:l}={}){this._names={},this._prefixes=u,this._parent=l}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const l=this._names[u]||this._nameGroup(u);return`${u}${l.index++}`}_nameGroup(u){var l,m;if(!((m=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||m===void 0)&&m.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=a;class s extends t.Name{constructor(u,l){super(l),this.prefix=u}setValue(u,{property:l,itemIndex:m}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(l)}[${m}]`}}e.ValueScopeName=s;const i=(0,t._)`\n`;class o extends a{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?i:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,l){var m;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const g=this.toName(u),{prefix:v}=g,$=(m=l.key)!==null&&m!==void 0?m:l.ref;let w=this._values[v];if(w){const P=w.get($);if(P)return P}else w=this._values[v]=new Map;w.set($,g);const y=this._scope[v]||(this._scope[v]=[]),h=y.length;return y[h]=l.ref,g.setValue(l,{property:v,itemIndex:h}),g}getValue(u,l){const m=this._values[u];if(m)return m.get(l)}scopeRefs(u,l=this._values){return this._reduceValues(l,m=>{if(m.scopePath===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return(0,t._)`${u}${m.scopePath}`})}scopeCode(u=this._values,l,m){return this._reduceValues(u,g=>{if(g.value===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return g.value.code},l,m)}_reduceValues(u,l,m={},g){let v=t.nil;for(const $ in u){const w=u[$];if(!w)continue;const y=m[$]=m[$]||new Map;w.forEach(h=>{if(y.has(h))return;y.set(h,n.Started);let P=l(h);if(P){const N=this.opts.es5?e.varKinds.var:e.varKinds.const;v=(0,t._)`${v}${N} ${h} = ${P};${this.opts._n}`}else if(P=g==null?void 0:g(h))v=(0,t._)`${v}${P}${this.opts._n}`;else throw new r(h);y.set(h,n.Completed)})}return v}}e.ValueScope=o})(Wt),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=nt,r=Wt;var n=nt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Wt;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(c,f){return this}}class i extends s{constructor(c,f,S){super(),this.varKind=c,this.name=f,this.rhs=S}render({es5:c,_n:f}){const S=c?r.varKinds.var:this.varKind,M=this.rhs===void 0?"":` = ${this.rhs}`;return`${S} ${this.name}${M};`+f}optimizeNames(c,f){if(c[this.name.str])return this.rhs&&(this.rhs=x(this.rhs,c,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(c,f,S){super(),this.lhs=c,this.rhs=f,this.sideEffects=S}render({_n:c}){return`${this.lhs} = ${this.rhs};`+c}optimizeNames(c,f){if(!(this.lhs instanceof t.Name&&!c[this.lhs.str]&&!this.sideEffects))return this.rhs=x(this.rhs,c,f),this}get names(){const c=this.lhs instanceof t.Name?{}:{...this.lhs.names};return B(c,this.rhs)}}class d extends o{constructor(c,f,S,M){super(c,S,M),this.op=f}render({_n:c}){return`${this.lhs} ${this.op}= ${this.rhs};`+c}}class u extends s{constructor(c){super(),this.label=c,this.names={}}render({_n:c}){return`${this.label}:`+c}}class l extends s{constructor(c){super(),this.label=c,this.names={}}render({_n:c}){return`break${this.label?` ${this.label}`:""};`+c}}class m extends s{constructor(c){super(),this.error=c}render({_n:c}){return`throw ${this.error};`+c}get names(){return this.error.names}}class g extends s{constructor(c){super(),this.code=c}render({_n:c}){return`${this.code};`+c}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(c,f){return this.code=x(this.code,c,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class v extends s{constructor(c=[]){super(),this.nodes=c}render(c){return this.nodes.reduce((f,S)=>f+S.render(c),"")}optimizeNodes(){const{nodes:c}=this;let f=c.length;for(;f--;){const S=c[f].optimizeNodes();Array.isArray(S)?c.splice(f,1,...S):S?c[f]=S:c.splice(f,1)}return c.length>0?this:void 0}optimizeNames(c,f){const{nodes:S}=this;let M=S.length;for(;M--;){const D=S[M];D.optimizeNames(c,f)||(ue(c,D.names),S.splice(M,1))}return S.length>0?this:void 0}get names(){return this.nodes.reduce((c,f)=>W(c,f.names),{})}}class $ extends v{render(c){return"{"+c._n+super.render(c)+"}"+c._n}}class w extends v{}class y extends ${}y.kind="else";class h extends ${constructor(c,f){super(f),this.condition=c}render(c){let f=`if(${this.condition})`+super.render(c);return this.else&&(f+="else "+this.else.render(c)),f}optimizeNodes(){super.optimizeNodes();const c=this.condition;if(c===!0)return this.nodes;let f=this.else;if(f){const S=f.optimizeNodes();f=this.else=Array.isArray(S)?new y(S):S}if(f)return c===!1?f instanceof h?f:f.nodes:this.nodes.length?this:new h(Ue(c),f instanceof h?[f]:f.nodes);if(!(c===!1||!this.nodes.length))return this}optimizeNames(c,f){var S;if(this.else=(S=this.else)===null||S===void 0?void 0:S.optimizeNames(c,f),!!(super.optimizeNames(c,f)||this.else))return this.condition=x(this.condition,c,f),this}get names(){const c=super.names;return B(c,this.condition),this.else&&W(c,this.else.names),c}}h.kind="if";class P extends ${}P.kind="for";class N extends P{constructor(c){super(),this.iteration=c}render(c){return`for(${this.iteration})`+super.render(c)}optimizeNames(c,f){if(super.optimizeNames(c,f))return this.iteration=x(this.iteration,c,f),this}get names(){return W(super.names,this.iteration.names)}}class R extends P{constructor(c,f,S,M){super(),this.varKind=c,this.name=f,this.from=S,this.to=M}render(c){const f=c.es5?r.varKinds.var:this.varKind,{name:S,from:M,to:D}=this;return`for(${f} ${S}=${M}; ${S}<${D}; ${S}++)`+super.render(c)}get names(){const c=B(super.names,this.from);return B(c,this.to)}}class T extends P{constructor(c,f,S,M){super(),this.loop=c,this.varKind=f,this.name=S,this.iterable=M}render(c){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(c)}optimizeNames(c,f){if(super.optimizeNames(c,f))return this.iterable=x(this.iterable,c,f),this}get names(){return W(super.names,this.iterable.names)}}class L extends ${constructor(c,f,S){super(),this.name=c,this.args=f,this.async=S}render(c){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(c)}}L.kind="func";class J extends v{render(c){return"return "+super.render(c)}}J.kind="return";class ie extends ${render(c){let f="try"+super.render(c);return this.catch&&(f+=this.catch.render(c)),this.finally&&(f+=this.finally.render(c)),f}optimizeNodes(){var c,f;return super.optimizeNodes(),(c=this.catch)===null||c===void 0||c.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(c,f){var S,M;return super.optimizeNames(c,f),(S=this.catch)===null||S===void 0||S.optimizeNames(c,f),(M=this.finally)===null||M===void 0||M.optimizeNames(c,f),this}get names(){const c=super.names;return this.catch&&W(c,this.catch.names),this.finally&&W(c,this.finally.names),c}}class V extends ${constructor(c){super(),this.error=c}render(c){return`catch(${this.error})`+super.render(c)}}V.kind="catch";class K extends ${render(c){return"finally"+super.render(c)}}K.kind="finally";class Y{constructor(c,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=c,this._scope=new r.Scope({parent:c}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(c){return this._scope.name(c)}scopeName(c){return this._extScope.name(c)}scopeValue(c,f){const S=this._extScope.value(c,f);return(this._values[S.prefix]||(this._values[S.prefix]=new Set)).add(S),S}getScopeValue(c,f){return this._extScope.getValue(c,f)}scopeRefs(c){return this._extScope.scopeRefs(c,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(c,f,S,M){const D=this._scope.toName(f);return S!==void 0&&M&&(this._constants[D.str]=S),this._leafNode(new i(c,D,S)),D}const(c,f,S){return this._def(r.varKinds.const,c,f,S)}let(c,f,S){return this._def(r.varKinds.let,c,f,S)}var(c,f,S){return this._def(r.varKinds.var,c,f,S)}assign(c,f,S){return this._leafNode(new o(c,f,S))}add(c,f){return this._leafNode(new d(c,e.operators.ADD,f))}code(c){return typeof c=="function"?c():c!==t.nil&&this._leafNode(new g(c)),this}object(...c){const f=["{"];for(const[S,M]of c)f.length>1&&f.push(","),f.push(S),(S!==M||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,M));return f.push("}"),new t._Code(f)}if(c,f,S){if(this._blockNode(new h(c)),f&&S)this.code(f).else().code(S).endIf();else if(f)this.code(f).endIf();else if(S)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(c){return this._elseNode(new h(c))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(h,y)}_for(c,f){return this._blockNode(c),f&&this.code(f).endFor(),this}for(c,f){return this._for(new N(c),f)}forRange(c,f,S,M,D=this.opts.es5?r.varKinds.var:r.varKinds.let){const H=this._scope.toName(c);return this._for(new R(D,H,f,S),()=>M(H))}forOf(c,f,S,M=r.varKinds.const){const D=this._scope.toName(c);if(this.opts.es5){const H=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${H}.length`,G=>{this.var(D,(0,t._)`${H}[${G}]`),S(D)})}return this._for(new T("of",M,D,f),()=>S(D))}forIn(c,f,S,M=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(c,(0,t._)`Object.keys(${f})`,S);const D=this._scope.toName(c);return this._for(new T("in",M,D,f),()=>S(D))}endFor(){return this._endBlockNode(P)}label(c){return this._leafNode(new u(c))}break(c){return this._leafNode(new l(c))}return(c){const f=new J;if(this._blockNode(f),this.code(c),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(J)}try(c,f,S){if(!f&&!S)throw new Error('CodeGen: "try" without "catch" and "finally"');const M=new ie;if(this._blockNode(M),this.code(c),f){const D=this.name("e");this._currNode=M.catch=new V(D),f(D)}return S&&(this._currNode=M.finally=new K,this.code(S)),this._endBlockNode(V,K)}throw(c){return this._leafNode(new m(c))}block(c,f){return this._blockStarts.push(this._nodes.length),c&&this.code(c).endBlock(f),this}endBlock(c){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const S=this._nodes.length-f;if(S<0||c!==void 0&&S!==c)throw new Error(`CodeGen: wrong number of nodes: ${S} vs ${c} expected`);return this._nodes.length=f,this}func(c,f=t.nil,S,M){return this._blockNode(new L(c,f,S)),M&&this.code(M).endFunc(),this}endFunc(){return this._endBlockNode(L)}optimize(c=1){for(;c-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(c){return this._currNode.nodes.push(c),this}_blockNode(c){this._currNode.nodes.push(c),this._nodes.push(c)}_endBlockNode(c,f){const S=this._currNode;if(S instanceof c||f&&S instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${c.kind}/${f.kind}`:c.kind}"`)}_elseNode(c){const f=this._currNode;if(!(f instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=c,this}get _root(){return this._nodes[0]}get _currNode(){const c=this._nodes;return c[c.length-1]}set _currNode(c){const f=this._nodes;f[f.length-1]=c}}e.CodeGen=Y;function W(E,c){for(const f in c)E[f]=(E[f]||0)+(c[f]||0);return E}function B(E,c){return c instanceof t._CodeOrName?W(E,c.names):E}function x(E,c,f){if(E instanceof t.Name)return S(E);if(!M(E))return E;return new t._Code(E._items.reduce((D,H)=>(H instanceof t.Name&&(H=S(H)),H instanceof t._Code?D.push(...H._items):D.push(H),D),[]));function S(D){const H=f[D.str];return H===void 0||c[D.str]!==1?D:(delete c[D.str],H)}function M(D){return D instanceof t._Code&&D._items.some(H=>H instanceof t.Name&&c[H.str]===1&&f[H.str]!==void 0)}}function ue(E,c){for(const f in c)E[f]=(E[f]||0)-(c[f]||0)}function Ue(E){return typeof E=="boolean"||typeof E=="number"||E===null?!E:(0,t._)`!${O(E)}`}e.not=Ue;const xe=_(e.operators.AND);function pt(...E){return E.reduce(xe)}e.and=pt;const et=_(e.operators.OR);function A(...E){return E.reduce(et)}e.or=A;function _(E){return(c,f)=>c===t.nil?f:f===t.nil?c:(0,t._)`${O(c)} ${E} ${O(f)}`}function O(E){return E instanceof t.Name?E:(0,t._)`(${E})`}}(z);var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.checkStrictMode=I.getErrorPath=I.Type=I.useFunc=I.setEvaluated=I.evaluatedPropsToName=I.mergeEvaluated=I.eachItem=I.unescapeJsonPointer=I.escapeJsonPointer=I.escapeFragment=I.unescapeFragment=I.schemaRefOrVal=I.schemaHasRulesButRef=I.schemaHasRules=I.checkUnknownRules=I.alwaysValidSchema=I.toHash=void 0;const Z=z,Oa=nt;function Ra(e){const t={};for(const r of e)t[r]=!0;return t}I.toHash=Ra;function ka(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(on(e,t),!cn(t,e.self.RULES.all))}I.alwaysValidSchema=ka;function on(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const a=n.RULES.keywords;for(const s in t)a[s]||mn(e,`unknown keyword: "${s}"`)}I.checkUnknownRules=on;function cn(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}I.schemaHasRules=cn;function Aa(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}I.schemaHasRulesButRef=Aa;function Ia({topSchemaRef:e,schemaPath:t},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Z._)`${r}`}return(0,Z._)`${e}${t}${(0,Z.getProperty)(n)}`}I.schemaRefOrVal=Ia;function Ta(e){return dn(decodeURIComponent(e))}I.unescapeFragment=Ta;function Ma(e){return encodeURIComponent(Bt(e))}I.escapeFragment=Ma;function Bt(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}I.escapeJsonPointer=Bt;function dn(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}I.unescapeJsonPointer=dn;function Ca(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}I.eachItem=Ca;function un({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(a,s,i,o)=>{const d=i===void 0?s:i instanceof Z.Name?(s instanceof Z.Name?e(a,s,i):t(a,s,i),i):s instanceof Z.Name?(t(a,i,s),s):r(s,i);return o===Z.Name&&!(d instanceof Z.Name)?n(a,d):d}}I.mergeEvaluated={props:un({mergeNames:(e,t,r)=>e.if((0,Z._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Z._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Z._)`${r} || {}`).code((0,Z._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Z._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Z._)`${r} || {}`),Zt(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:ln}),items:un({mergeNames:(e,t,r)=>e.if((0,Z._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Z._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Z._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Z._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function ln(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,Z._)`{}`);return t!==void 0&&Zt(e,r,t),r}I.evaluatedPropsToName=ln;function Zt(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Z._)`${t}${(0,Z.getProperty)(n)}`,!0))}I.setEvaluated=Zt;const fn={};function Da(e,t){return e.scopeValue("func",{ref:t,code:fn[t.code]||(fn[t.code]=new Oa._Code(t.code))})}I.useFunc=Da;var Xt;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Xt||(I.Type=Xt={}));function Va(e,t,r){if(e instanceof Z.Name){const n=t===Xt.Num;return r?n?(0,Z._)`"[" + ${e} + "]"`:(0,Z._)`"['" + ${e} + "']"`:n?(0,Z._)`"/" + ${e}`:(0,Z._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Z.getProperty)(e).toString():"/"+Bt(e)}I.getErrorPath=Va;function mn(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}I.checkStrictMode=mn;var me={};Object.defineProperty(me,"__esModule",{value:!0});const oe=z,za={data:new oe.Name("data"),valCxt:new oe.Name("valCxt"),instancePath:new oe.Name("instancePath"),parentData:new oe.Name("parentData"),parentDataProperty:new oe.Name("parentDataProperty"),rootData:new oe.Name("rootData"),dynamicAnchors:new oe.Name("dynamicAnchors"),vErrors:new oe.Name("vErrors"),errors:new oe.Name("errors"),this:new oe.Name("this"),self:new oe.Name("self"),scope:new oe.Name("scope"),json:new oe.Name("json"),jsonPos:new oe.Name("jsonPos"),jsonLen:new oe.Name("jsonLen"),jsonPart:new oe.Name("jsonPart")};me.default=za,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=z,r=I,n=me;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:h})=>h?(0,t.str)`"${y}" keyword must be ${h} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function a(y,h=e.keywordError,P,N){const{it:R}=y,{gen:T,compositeRule:L,allErrors:J}=R,ie=m(y,h,P);N??(L||J)?d(T,ie):u(R,(0,t._)`[${ie}]`)}e.reportError=a;function s(y,h=e.keywordError,P){const{it:N}=y,{gen:R,compositeRule:T,allErrors:L}=N,J=m(y,h,P);d(R,J),T||L||u(N,n.default.vErrors)}e.reportExtraError=s;function i(y,h){y.assign(n.default.errors,h),y.if((0,t._)`${n.default.vErrors} !== null`,()=>y.if(h,()=>y.assign((0,t._)`${n.default.vErrors}.length`,h),()=>y.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function o({gen:y,keyword:h,schemaValue:P,data:N,errsCount:R,it:T}){if(R===void 0)throw new Error("ajv implementation error");const L=y.name("err");y.forRange("i",R,n.default.errors,J=>{y.const(L,(0,t._)`${n.default.vErrors}[${J}]`),y.if((0,t._)`${L}.instancePath === undefined`,()=>y.assign((0,t._)`${L}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),y.assign((0,t._)`${L}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${h}`),T.opts.verbose&&(y.assign((0,t._)`${L}.schema`,P),y.assign((0,t._)`${L}.data`,N))})}e.extendErrors=o;function d(y,h){const P=y.const("err",h);y.if((0,t._)`${n.default.vErrors} === null`,()=>y.assign(n.default.vErrors,(0,t._)`[${P}]`),(0,t._)`${n.default.vErrors}.push(${P})`),y.code((0,t._)`${n.default.errors}++`)}function u(y,h){const{gen:P,validateName:N,schemaEnv:R}=y;R.$async?P.throw((0,t._)`new ${y.ValidationError}(${h})`):(P.assign((0,t._)`${N}.errors`,h),P.return(!1))}const l={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function m(y,h,P){const{createErrors:N}=y.it;return N===!1?(0,t._)`{}`:g(y,h,P)}function g(y,h,P={}){const{gen:N,it:R}=y,T=[v(R,P),$(y,P)];return w(y,h,T),N.object(...T)}function v({errorPath:y},{instancePath:h}){const P=h?(0,t.str)`${y}${(0,r.getErrorPath)(h,r.Type.Str)}`:y;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,P)]}function $({keyword:y,it:{errSchemaPath:h}},{schemaPath:P,parentSchema:N}){let R=N?h:(0,t.str)`${h}/${y}`;return P&&(R=(0,t.str)`${R}${(0,r.getErrorPath)(P,r.Type.Str)}`),[l.schemaPath,R]}function w(y,{params:h,message:P},N){const{keyword:R,data:T,schemaValue:L,it:J}=y,{opts:ie,propertyName:V,topSchemaRef:K,schemaPath:Y}=J;N.push([l.keyword,R],[l.params,typeof h=="function"?h(y):h||(0,t._)`{}`]),ie.messages&&N.push([l.message,typeof P=="function"?P(y):P]),ie.verbose&&N.push([l.schema,L],[l.parentSchema,(0,t._)`${K}${Y}`],[n.default.data,T]),V&&N.push([l.propertyName,V])}}(rt);var hn;function qa(){if(hn)return Ce;hn=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.boolOrEmptySchema=Ce.topBoolOrEmptySchema=void 0;const e=rt,t=z,r=me,n={message:"boolean schema is false"};function a(o){const{gen:d,schema:u,validateName:l}=o;u===!1?i(o,!1):typeof u=="object"&&u.$async===!0?d.return(r.default.data):(d.assign((0,t._)`${l}.errors`,null),d.return(!0))}Ce.topBoolOrEmptySchema=a;function s(o,d){const{gen:u,schema:l}=o;l===!1?(u.var(d,!1),i(o)):u.var(d,!0)}Ce.boolOrEmptySchema=s;function i(o,d){const{gen:u,data:l}=o,m={gen:u,keyword:"false schema",data:l,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,e.reportError)(m,n,void 0,d)}return Ce}var te={},De={};Object.defineProperty(De,"__esModule",{value:!0}),De.getRules=De.isJSONType=void 0;const Fa=["string","number","integer","boolean","null","object","array"],Ka=new Set(Fa);function Ua(e){return typeof e=="string"&&Ka.has(e)}De.isJSONType=Ua;function La(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}De.getRules=La;var je={},pn;function $n(){if(pn)return je;pn=1,Object.defineProperty(je,"__esModule",{value:!0}),je.shouldUseRule=je.shouldUseGroup=je.schemaHasRulesForType=void 0;function e({schema:n,self:a},s){const i=a.RULES.types[s];return i&&i!==!0&&t(n,i)}je.schemaHasRulesForType=e;function t(n,a){return a.rules.some(s=>r(n,s))}je.shouldUseGroup=t;function r(n,a){var s;return n[a.keyword]!==void 0||((s=a.definition.implements)===null||s===void 0?void 0:s.some(i=>n[i]!==void 0))}return je.shouldUseRule=r,je}Object.defineProperty(te,"__esModule",{value:!0}),te.reportTypeError=te.checkDataTypes=te.checkDataType=te.coerceAndCheckDataType=te.getJSONTypes=te.getSchemaTypes=te.DataType=void 0;const Ga=De,Ha=$n(),Ja=rt,q=z,yn=I;var Le;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Le||(te.DataType=Le={}));function Wa(e){const t=vn(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}te.getSchemaTypes=Wa;function vn(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Ga.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}te.getJSONTypes=vn;function Ba(e,t){const{gen:r,data:n,opts:a}=e,s=Za(t,a.coerceTypes),i=t.length>0&&!(s.length===0&&t.length===1&&(0,Ha.schemaHasRulesForType)(e,t[0]));if(i){const o=Qt(t,n,a.strictNumbers,Le.Wrong);r.if(o,()=>{s.length?Xa(e,t,s):xt(e)})}return i}te.coerceAndCheckDataType=Ba;const gn=new Set(["string","number","integer","boolean","null"]);function Za(e,t){return t?e.filter(r=>gn.has(r)||t==="array"&&r==="array"):[]}function Xa(e,t,r){const{gen:n,data:a,opts:s}=e,i=n.let("dataType",(0,q._)`typeof ${a}`),o=n.let("coerced",(0,q._)`undefined`);s.coerceTypes==="array"&&n.if((0,q._)`${i} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,q._)`${a}[0]`).assign(i,(0,q._)`typeof ${a}`).if(Qt(t,a,s.strictNumbers),()=>n.assign(o,a))),n.if((0,q._)`${o} !== undefined`);for(const u of r)(gn.has(u)||u==="array"&&s.coerceTypes==="array")&&d(u);n.else(),xt(e),n.endIf(),n.if((0,q._)`${o} !== undefined`,()=>{n.assign(a,o),Ya(e,o)});function d(u){switch(u){case"string":n.elseIf((0,q._)`${i} == "number" || ${i} == "boolean"`).assign(o,(0,q._)`"" + ${a}`).elseIf((0,q._)`${a} === null`).assign(o,(0,q._)`""`);return;case"number":n.elseIf((0,q._)`${i} == "boolean" || ${a} === null
              || (${i} == "string" && ${a} && ${a} == +${a})`).assign(o,(0,q._)`+${a}`);return;case"integer":n.elseIf((0,q._)`${i} === "boolean" || ${a} === null
              || (${i} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(o,(0,q._)`+${a}`);return;case"boolean":n.elseIf((0,q._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(o,!1).elseIf((0,q._)`${a} === "true" || ${a} === 1`).assign(o,!0);return;case"null":n.elseIf((0,q._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(o,null);return;case"array":n.elseIf((0,q._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${a} === null`).assign(o,(0,q._)`[${a}]`)}}}function Ya({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,q._)`${t} !== undefined`,()=>e.assign((0,q._)`${t}[${r}]`,n))}function Yt(e,t,r,n=Le.Correct){const a=n===Le.Correct?q.operators.EQ:q.operators.NEQ;let s;switch(e){case"null":return(0,q._)`${t} ${a} null`;case"array":s=(0,q._)`Array.isArray(${t})`;break;case"object":s=(0,q._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=i((0,q._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=i();break;default:return(0,q._)`typeof ${t} ${a} ${e}`}return n===Le.Correct?s:(0,q.not)(s);function i(o=q.nil){return(0,q.and)((0,q._)`typeof ${t} == "number"`,o,r?(0,q._)`isFinite(${t})`:q.nil)}}te.checkDataType=Yt;function Qt(e,t,r,n){if(e.length===1)return Yt(e[0],t,r,n);let a;const s=(0,yn.toHash)(e);if(s.array&&s.object){const i=(0,q._)`typeof ${t} != "object"`;a=s.null?i:(0,q._)`!${t} || ${i}`,delete s.null,delete s.array,delete s.object}else a=q.nil;s.number&&delete s.integer;for(const i in s)a=(0,q.and)(a,Yt(i,t,r,n));return a}te.checkDataTypes=Qt;const Qa={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,q._)`{type: ${e}}`:(0,q._)`{type: ${t}}`};function xt(e){const t=xa(e);(0,Ja.reportError)(t,Qa)}te.reportTypeError=xt;function xa(e){const{gen:t,data:r,schema:n}=e,a=(0,yn.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}var at={},_n;function es(){if(_n)return at;_n=1,Object.defineProperty(at,"__esModule",{value:!0}),at.assignDefaults=void 0;const e=z,t=I;function r(a,s){const{properties:i,items:o}=a.schema;if(s==="object"&&i)for(const d in i)n(a,d,i[d].default);else s==="array"&&Array.isArray(o)&&o.forEach((d,u)=>n(a,u,d.default))}at.assignDefaults=r;function n(a,s,i){const{gen:o,compositeRule:d,data:u,opts:l}=a;if(i===void 0)return;const m=(0,e._)`${u}${(0,e.getProperty)(s)}`;if(d){(0,t.checkStrictMode)(a,`default is ignored for: ${m}`);return}let g=(0,e._)`${m} === undefined`;l.useDefaults==="empty"&&(g=(0,e._)`${g} || ${m} === null || ${m} === ""`),o.if(g,(0,e._)`${m} = ${(0,e.stringify)(i)}`)}return at}var ve={},F={};Object.defineProperty(F,"__esModule",{value:!0}),F.validateUnion=F.validateArray=F.usePattern=F.callValidateCode=F.schemaProperties=F.allSchemaProperties=F.noPropertyInData=F.propertyInData=F.isOwnProperty=F.hasPropFunc=F.reportMissingProp=F.checkMissingProp=F.checkReportMissingProp=void 0;const Q=z,er=I,ke=me,ts=I;function rs(e,t){const{gen:r,data:n,it:a}=e;r.if(rr(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Q._)`${t}`},!0),e.error()})}F.checkReportMissingProp=rs;function ns({gen:e,data:t,it:{opts:r}},n,a){return(0,Q.or)(...n.map(s=>(0,Q.and)(rr(e,t,s,r.ownProperties),(0,Q._)`${a} = ${s}`)))}F.checkMissingProp=ns;function as(e,t){e.setParams({missingProperty:t},!0),e.error()}F.reportMissingProp=as;function bn(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Q._)`Object.prototype.hasOwnProperty`})}F.hasPropFunc=bn;function tr(e,t,r){return(0,Q._)`${bn(e)}.call(${t}, ${r})`}F.isOwnProperty=tr;function ss(e,t,r,n){const a=(0,Q._)`${t}${(0,Q.getProperty)(r)} !== undefined`;return n?(0,Q._)`${a} && ${tr(e,t,r)}`:a}F.propertyInData=ss;function rr(e,t,r,n){const a=(0,Q._)`${t}${(0,Q.getProperty)(r)} === undefined`;return n?(0,Q.or)(a,(0,Q.not)(tr(e,t,r))):a}F.noPropertyInData=rr;function wn(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}F.allSchemaProperties=wn;function os(e,t){return wn(t).filter(r=>!(0,er.alwaysValidSchema)(e,t[r]))}F.schemaProperties=os;function is({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:s},it:i},o,d,u){const l=u?(0,Q._)`${e}, ${t}, ${n}${a}`:t,m=[[ke.default.instancePath,(0,Q.strConcat)(ke.default.instancePath,s)],[ke.default.parentData,i.parentData],[ke.default.parentDataProperty,i.parentDataProperty],[ke.default.rootData,ke.default.rootData]];i.opts.dynamicRef&&m.push([ke.default.dynamicAnchors,ke.default.dynamicAnchors]);const g=(0,Q._)`${l}, ${r.object(...m)}`;return d!==Q.nil?(0,Q._)`${o}.call(${d}, ${g})`:(0,Q._)`${o}(${g})`}F.callValidateCode=is;const cs=(0,Q._)`new RegExp`;function ds({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,s=a(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Q._)`${a.code==="new RegExp"?cs:(0,ts.useFunc)(e,a)}(${r}, ${n})`})}F.usePattern=ds;function us(e){const{gen:t,data:r,keyword:n,it:a}=e,s=t.name("valid");if(a.allErrors){const o=t.let("valid",!0);return i(()=>t.assign(o,!1)),o}return t.var(s,!0),i(()=>t.break()),s;function i(o){const d=t.const("len",(0,Q._)`${r}.length`);t.forRange("i",0,d,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:er.Type.Num},s),t.if((0,Q.not)(s),o)})}}F.validateArray=us;function ls(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>(0,er.alwaysValidSchema)(a,d))&&!a.opts.unevaluated)return;const i=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((d,u)=>{const l=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},o);t.assign(i,(0,Q._)`${i} || ${o}`),e.mergeValidEvaluated(l,o)||t.if((0,Q.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}F.validateUnion=ls;var En;function fs(){if(En)return ve;En=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.validateKeywordUsage=ve.validSchemaType=ve.funcKeywordCode=ve.macroKeywordCode=void 0;const e=z,t=me,r=F,n=rt;function a(g,v){const{gen:$,keyword:w,schema:y,parentSchema:h,it:P}=g,N=v.macro.call(P.self,y,h,P),R=u($,w,N);P.opts.validateSchema!==!1&&P.self.validateSchema(N,!0);const T=$.name("valid");g.subschema({schema:N,schemaPath:e.nil,errSchemaPath:`${P.errSchemaPath}/${w}`,topSchemaRef:R,compositeRule:!0},T),g.pass(T,()=>g.error(!0))}ve.macroKeywordCode=a;function s(g,v){var $;const{gen:w,keyword:y,schema:h,parentSchema:P,$data:N,it:R}=g;d(R,v);const T=!N&&v.compile?v.compile.call(R.self,h,P,R):v.validate,L=u(w,y,T),J=w.let("valid");g.block$data(J,ie),g.ok(($=v.valid)!==null&&$!==void 0?$:J);function ie(){if(v.errors===!1)Y(),v.modifying&&i(g),W(()=>g.error());else{const B=v.async?V():K();v.modifying&&i(g),W(()=>o(g,B))}}function V(){const B=w.let("ruleErrs",null);return w.try(()=>Y((0,e._)`await `),x=>w.assign(J,!1).if((0,e._)`${x} instanceof ${R.ValidationError}`,()=>w.assign(B,(0,e._)`${x}.errors`),()=>w.throw(x))),B}function K(){const B=(0,e._)`${L}.errors`;return w.assign(B,null),Y(e.nil),B}function Y(B=v.async?(0,e._)`await `:e.nil){const x=R.opts.passContext?t.default.this:t.default.self,ue=!("compile"in v&&!N||v.schema===!1);w.assign(J,(0,e._)`${B}${(0,r.callValidateCode)(g,L,x,ue)}`,v.modifying)}function W(B){var x;w.if((0,e.not)((x=v.valid)!==null&&x!==void 0?x:J),B)}}ve.funcKeywordCode=s;function i(g){const{gen:v,data:$,it:w}=g;v.if(w.parentData,()=>v.assign($,(0,e._)`${w.parentData}[${w.parentDataProperty}]`))}function o(g,v){const{gen:$}=g;$.if((0,e._)`Array.isArray(${v})`,()=>{$.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${v} : ${t.default.vErrors}.concat(${v})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(g)},()=>g.error())}function d({schemaEnv:g},v){if(v.async&&!g.$async)throw new Error("async keyword in sync schema")}function u(g,v,$){if($===void 0)throw new Error(`keyword "${v}" failed to compile`);return g.scopeValue("keyword",typeof $=="function"?{ref:$}:{ref:$,code:(0,e.stringify)($)})}function l(g,v,$=!1){return!v.length||v.some(w=>w==="array"?Array.isArray(g):w==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==w||$&&typeof g>"u")}ve.validSchemaType=l;function m({schema:g,opts:v,self:$,errSchemaPath:w},y,h){if(Array.isArray(y.keyword)?!y.keyword.includes(h):y.keyword!==h)throw new Error("ajv implementation error");const P=y.dependencies;if(P!=null&&P.some(N=>!Object.prototype.hasOwnProperty.call(g,N)))throw new Error(`parent schema must have dependencies of ${h}: ${P.join(",")}`);if(y.validateSchema&&!y.validateSchema(g[h])){const R=`keyword "${h}" value is invalid at path "${w}": `+$.errorsText(y.validateSchema.errors);if(v.validateSchema==="log")$.logger.error(R);else throw new Error(R)}}return ve.validateKeywordUsage=m,ve}var Ne={},Pn;function ms(){if(Pn)return Ne;Pn=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.extendSubschemaMode=Ne.extendSubschemaData=Ne.getSubschema=void 0;const e=z,t=I;function r(s,{keyword:i,schemaProp:o,schema:d,schemaPath:u,errSchemaPath:l,topSchemaRef:m}){if(i!==void 0&&d!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(i!==void 0){const g=s.schema[i];return o===void 0?{schema:g,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(i)}`,errSchemaPath:`${s.errSchemaPath}/${i}`}:{schema:g[o],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(i)}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${i}/${(0,t.escapeFragment)(o)}`}}if(d!==void 0){if(u===void 0||l===void 0||m===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:d,schemaPath:u,topSchemaRef:m,errSchemaPath:l}}throw new Error('either "keyword" or "schema" must be passed')}Ne.getSubschema=r;function n(s,i,{dataProp:o,dataPropType:d,data:u,dataTypes:l,propertyName:m}){if(u!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=i;if(o!==void 0){const{errorPath:$,dataPathArr:w,opts:y}=i,h=g.let("data",(0,e._)`${i.data}${(0,e.getProperty)(o)}`,!0);v(h),s.errorPath=(0,e.str)`${$}${(0,t.getErrorPath)(o,d,y.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${o}`,s.dataPathArr=[...w,s.parentDataProperty]}if(u!==void 0){const $=u instanceof e.Name?u:g.let("data",u,!0);v($),m!==void 0&&(s.propertyName=m)}l&&(s.dataTypes=l);function v($){s.data=$,s.dataLevel=i.dataLevel+1,s.dataTypes=[],i.definedProperties=new Set,s.parentData=i.data,s.dataNames=[...i.dataNames,$]}}Ne.extendSubschemaData=n;function a(s,{jtdDiscriminator:i,jtdMetadata:o,compositeRule:d,createErrors:u,allErrors:l}){d!==void 0&&(s.compositeRule=d),u!==void 0&&(s.createErrors=u),l!==void 0&&(s.allErrors=l),s.jtdDiscriminator=i,s.jtdMetadata=o}return Ne.extendSubschemaMode=a,Ne}var re={},Sn=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var i=s[a];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r},jn={exports:{}},Ae=jn.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};yt(t,n,a,e,"",e)};Ae.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},Ae.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Ae.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Ae.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function yt(e,t,r,n,a,s,i,o,d,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,s,i,o,d,u);for(var l in n){var m=n[l];if(Array.isArray(m)){if(l in Ae.arrayKeywords)for(var g=0;g<m.length;g++)yt(e,t,r,m[g],a+"/"+l+"/"+g,s,a,l,n,g)}else if(l in Ae.propsKeywords){if(m&&typeof m=="object")for(var v in m)yt(e,t,r,m[v],a+"/"+l+"/"+hs(v),s,a,l,n,v)}else(l in Ae.keywords||e.allKeys&&!(l in Ae.skipKeywords))&&yt(e,t,r,m,a+"/"+l,s,a,l,n)}r(n,a,s,i,o,d,u)}}function hs(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var ps=jn.exports;Object.defineProperty(re,"__esModule",{value:!0}),re.getSchemaRefs=re.resolveUrl=re.normalizeId=re._getFullPath=re.getFullPath=re.inlineRef=void 0;const $s=I,ys=Sn,vs=ps,gs=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function _s(e,t=!0){return typeof e=="boolean"?!0:t===!0?!nr(e):t?Nn(e)<=t:!1}re.inlineRef=_s;const bs=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function nr(e){for(const t in e){if(bs.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(nr)||typeof r=="object"&&nr(r))return!0}return!1}function Nn(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!gs.has(r)&&(typeof e[r]=="object"&&(0,$s.eachItem)(e[r],n=>t+=Nn(n)),t===1/0))return 1/0}return t}function On(e,t="",r){r!==!1&&(t=Ge(t));const n=e.parse(t);return Rn(e,n)}re.getFullPath=On;function Rn(e,t){return e.serialize(t).split("#")[0]+"#"}re._getFullPath=Rn;const ws=/#\/?$/;function Ge(e){return e?e.replace(ws,""):""}re.normalizeId=Ge;function Es(e,t,r){return r=Ge(r),e.resolve(t,r)}re.resolveUrl=Es;const Ps=/^[a-z_][-a-z0-9._]*$/i;function Ss(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=Ge(e[r]||t),s={"":a},i=On(n,a,!1),o={},d=new Set;return vs(e,{allKeys:!0},(m,g,v,$)=>{if($===void 0)return;const w=i+g;let y=s[$];typeof m[r]=="string"&&(y=h.call(this,m[r])),P.call(this,m.$anchor),P.call(this,m.$dynamicAnchor),s[g]=y;function h(N){const R=this.opts.uriResolver.resolve;if(N=Ge(y?R(y,N):N),d.has(N))throw l(N);d.add(N);let T=this.refs[N];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?u(m,T.schema,N):N!==Ge(w)&&(N[0]==="#"?(u(m,o[N],N),o[N]=m):this.refs[N]=w),N}function P(N){if(typeof N=="string"){if(!Ps.test(N))throw new Error(`invalid anchor "${N}"`);h.call(this,`#${N}`)}}}),o;function u(m,g,v){if(g!==void 0&&!ys(m,g))throw l(v)}function l(m){return new Error(`reference "${m}" resolves to more than one schema`)}}re.getSchemaRefs=Ss;var kn;function He(){if(kn)return Se;kn=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.getData=Se.KeywordCxt=Se.validateFunctionCode=void 0;const e=qa(),t=te,r=$n(),n=te,a=es(),s=fs(),i=ms(),o=z,d=me,u=re,l=I,m=rt;function g(p){if(T(p)&&(J(p),R(p))){y(p);return}v(p,()=>(0,e.topBoolOrEmptySchema)(p))}Se.validateFunctionCode=g;function v({gen:p,validateName:b,schema:j,schemaEnv:k,opts:C},U){C.code.es5?p.func(b,(0,o._)`${d.default.data}, ${d.default.valCxt}`,k.$async,()=>{p.code((0,o._)`"use strict"; ${P(j,C)}`),w(p,C),p.code(U)}):p.func(b,(0,o._)`${d.default.data}, ${$(C)}`,k.$async,()=>p.code(P(j,C)).code(U))}function $(p){return(0,o._)`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${p.dynamicRef?(0,o._)`, ${d.default.dynamicAnchors}={}`:o.nil}}={}`}function w(p,b){p.if(d.default.valCxt,()=>{p.var(d.default.instancePath,(0,o._)`${d.default.valCxt}.${d.default.instancePath}`),p.var(d.default.parentData,(0,o._)`${d.default.valCxt}.${d.default.parentData}`),p.var(d.default.parentDataProperty,(0,o._)`${d.default.valCxt}.${d.default.parentDataProperty}`),p.var(d.default.rootData,(0,o._)`${d.default.valCxt}.${d.default.rootData}`),b.dynamicRef&&p.var(d.default.dynamicAnchors,(0,o._)`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{p.var(d.default.instancePath,(0,o._)`""`),p.var(d.default.parentData,(0,o._)`undefined`),p.var(d.default.parentDataProperty,(0,o._)`undefined`),p.var(d.default.rootData,d.default.data),b.dynamicRef&&p.var(d.default.dynamicAnchors,(0,o._)`{}`)})}function y(p){const{schema:b,opts:j,gen:k}=p;v(p,()=>{j.$comment&&b.$comment&&B(p),K(p),k.let(d.default.vErrors,null),k.let(d.default.errors,0),j.unevaluated&&h(p),ie(p),x(p)})}function h(p){const{gen:b,validateName:j}=p;p.evaluated=b.const("evaluated",(0,o._)`${j}.evaluated`),b.if((0,o._)`${p.evaluated}.dynamicProps`,()=>b.assign((0,o._)`${p.evaluated}.props`,(0,o._)`undefined`)),b.if((0,o._)`${p.evaluated}.dynamicItems`,()=>b.assign((0,o._)`${p.evaluated}.items`,(0,o._)`undefined`))}function P(p,b){const j=typeof p=="object"&&p[b.schemaId];return j&&(b.code.source||b.code.process)?(0,o._)`/*# sourceURL=${j} */`:o.nil}function N(p,b){if(T(p)&&(J(p),R(p))){L(p,b);return}(0,e.boolOrEmptySchema)(p,b)}function R({schema:p,self:b}){if(typeof p=="boolean")return!p;for(const j in p)if(b.RULES.all[j])return!0;return!1}function T(p){return typeof p.schema!="boolean"}function L(p,b){const{schema:j,gen:k,opts:C}=p;C.$comment&&j.$comment&&B(p),Y(p),W(p);const U=k.const("_errs",d.default.errors);ie(p,U),k.var(b,(0,o._)`${U} === ${d.default.errors}`)}function J(p){(0,l.checkUnknownRules)(p),V(p)}function ie(p,b){if(p.opts.jtd)return Ue(p,[],!1,b);const j=(0,t.getSchemaTypes)(p.schema),k=(0,t.coerceAndCheckDataType)(p,j);Ue(p,j,!k,b)}function V(p){const{schema:b,errSchemaPath:j,opts:k,self:C}=p;b.$ref&&k.ignoreKeywordsWithRef&&(0,l.schemaHasRulesButRef)(b,C.RULES)&&C.logger.warn(`$ref: keywords ignored in schema at path "${j}"`)}function K(p){const{schema:b,opts:j}=p;b.default!==void 0&&j.useDefaults&&j.strictSchema&&(0,l.checkStrictMode)(p,"default is ignored in the schema root")}function Y(p){const b=p.schema[p.opts.schemaId];b&&(p.baseId=(0,u.resolveUrl)(p.opts.uriResolver,p.baseId,b))}function W(p){if(p.schema.$async&&!p.schemaEnv.$async)throw new Error("async schema in sync schema")}function B({gen:p,schemaEnv:b,schema:j,errSchemaPath:k,opts:C}){const U=j.$comment;if(C.$comment===!0)p.code((0,o._)`${d.default.self}.logger.log(${U})`);else if(typeof C.$comment=="function"){const ae=(0,o.str)`${k}/$comment`,we=p.scopeValue("root",{ref:b.root});p.code((0,o._)`${d.default.self}.opts.$comment(${U}, ${ae}, ${we}.schema)`)}}function x(p){const{gen:b,schemaEnv:j,validateName:k,ValidationError:C,opts:U}=p;j.$async?b.if((0,o._)`${d.default.errors} === 0`,()=>b.return(d.default.data),()=>b.throw((0,o._)`new ${C}(${d.default.vErrors})`)):(b.assign((0,o._)`${k}.errors`,d.default.vErrors),U.unevaluated&&ue(p),b.return((0,o._)`${d.default.errors} === 0`))}function ue({gen:p,evaluated:b,props:j,items:k}){j instanceof o.Name&&p.assign((0,o._)`${b}.props`,j),k instanceof o.Name&&p.assign((0,o._)`${b}.items`,k)}function Ue(p,b,j,k){const{gen:C,schema:U,data:ae,allErrors:we,opts:le,self:fe}=p,{RULES:se}=fe;if(U.$ref&&(le.ignoreKeywordsWithRef||!(0,l.schemaHasRulesButRef)(U,se))){C.block(()=>M(p,"$ref",se.all.$ref.definition));return}le.jtd||pt(p,b),C.block(()=>{for(const pe of se.rules)tt(pe);tt(se.post)});function tt(pe){(0,r.shouldUseGroup)(U,pe)&&(pe.type?(C.if((0,n.checkDataType)(pe.type,ae,le.strictNumbers)),xe(p,pe),b.length===1&&b[0]===pe.type&&j&&(C.else(),(0,n.reportTypeError)(p)),C.endIf()):xe(p,pe),we||C.if((0,o._)`${d.default.errors} === ${k||0}`))}}function xe(p,b){const{gen:j,schema:k,opts:{useDefaults:C}}=p;C&&(0,a.assignDefaults)(p,b.type),j.block(()=>{for(const U of b.rules)(0,r.shouldUseRule)(k,U)&&M(p,U.keyword,U.definition,b.type)})}function pt(p,b){p.schemaEnv.meta||!p.opts.strictTypes||(et(p,b),p.opts.allowUnionTypes||A(p,b),_(p,p.dataTypes))}function et(p,b){if(b.length){if(!p.dataTypes.length){p.dataTypes=b;return}b.forEach(j=>{E(p.dataTypes,j)||f(p,`type "${j}" not allowed by context "${p.dataTypes.join(",")}"`)}),c(p,b)}}function A(p,b){b.length>1&&!(b.length===2&&b.includes("null"))&&f(p,"use allowUnionTypes to allow union type keyword")}function _(p,b){const j=p.self.RULES.all;for(const k in j){const C=j[k];if(typeof C=="object"&&(0,r.shouldUseRule)(p.schema,C)){const{type:U}=C.definition;U.length&&!U.some(ae=>O(b,ae))&&f(p,`missing type "${U.join(",")}" for keyword "${k}"`)}}}function O(p,b){return p.includes(b)||b==="number"&&p.includes("integer")}function E(p,b){return p.includes(b)||b==="integer"&&p.includes("number")}function c(p,b){const j=[];for(const k of p.dataTypes)E(b,k)?j.push(k):b.includes("integer")&&k==="number"&&j.push("integer");p.dataTypes=j}function f(p,b){const j=p.schemaEnv.baseId+p.errSchemaPath;b+=` at "${j}" (strictTypes)`,(0,l.checkStrictMode)(p,b,p.opts.strictTypes)}class S{constructor(b,j,k){if((0,s.validateKeywordUsage)(b,j,k),this.gen=b.gen,this.allErrors=b.allErrors,this.keyword=k,this.data=b.data,this.schema=b.schema[k],this.$data=j.$data&&b.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,l.schemaRefOrVal)(b,this.schema,k,this.$data),this.schemaType=j.schemaType,this.parentSchema=b.schema,this.params={},this.it=b,this.def=j,this.$data)this.schemaCode=b.gen.const("vSchema",G(this.$data,b));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,j.schemaType,j.allowUndefined))throw new Error(`${k} value must be ${JSON.stringify(j.schemaType)}`);("code"in j?j.trackErrors:j.errors!==!1)&&(this.errsCount=b.gen.const("_errs",d.default.errors))}result(b,j,k){this.failResult((0,o.not)(b),j,k)}failResult(b,j,k){this.gen.if(b),k?k():this.error(),j?(this.gen.else(),j(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(b,j){this.failResult((0,o.not)(b),void 0,j)}fail(b){if(b===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(b),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(b){if(!this.$data)return this.fail(b);const{schemaCode:j}=this;this.fail((0,o._)`${j} !== undefined && (${(0,o.or)(this.invalid$data(),b)})`)}error(b,j,k){if(j){this.setParams(j),this._error(b,k),this.setParams({});return}this._error(b,k)}_error(b,j){(b?m.reportExtraError:m.reportError)(this,this.def.error,j)}$dataError(){(0,m.reportError)(this,this.def.$dataError||m.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,m.resetErrorsCount)(this.gen,this.errsCount)}ok(b){this.allErrors||this.gen.if(b)}setParams(b,j){j?Object.assign(this.params,b):this.params=b}block$data(b,j,k=o.nil){this.gen.block(()=>{this.check$data(b,k),j()})}check$data(b=o.nil,j=o.nil){if(!this.$data)return;const{gen:k,schemaCode:C,schemaType:U,def:ae}=this;k.if((0,o.or)((0,o._)`${C} === undefined`,j)),b!==o.nil&&k.assign(b,!0),(U.length||ae.validateSchema)&&(k.elseIf(this.invalid$data()),this.$dataError(),b!==o.nil&&k.assign(b,!1)),k.else()}invalid$data(){const{gen:b,schemaCode:j,schemaType:k,def:C,it:U}=this;return(0,o.or)(ae(),we());function ae(){if(k.length){if(!(j instanceof o.Name))throw new Error("ajv implementation error");const le=Array.isArray(k)?k:[k];return(0,o._)`${(0,n.checkDataTypes)(le,j,U.opts.strictNumbers,n.DataType.Wrong)}`}return o.nil}function we(){if(C.validateSchema){const le=b.scopeValue("validate$data",{ref:C.validateSchema});return(0,o._)`!${le}(${j})`}return o.nil}}subschema(b,j){const k=(0,i.getSubschema)(this.it,b);(0,i.extendSubschemaData)(k,this.it,b),(0,i.extendSubschemaMode)(k,b);const C={...this.it,...k,items:void 0,props:void 0};return N(C,j),C}mergeEvaluated(b,j){const{it:k,gen:C}=this;k.opts.unevaluated&&(k.props!==!0&&b.props!==void 0&&(k.props=l.mergeEvaluated.props(C,b.props,k.props,j)),k.items!==!0&&b.items!==void 0&&(k.items=l.mergeEvaluated.items(C,b.items,k.items,j)))}mergeValidEvaluated(b,j){const{it:k,gen:C}=this;if(k.opts.unevaluated&&(k.props!==!0||k.items!==!0))return C.if(j,()=>this.mergeEvaluated(b,o.Name)),!0}}Se.KeywordCxt=S;function M(p,b,j,k){const C=new S(p,j,b);"code"in j?j.code(C,k):C.$data&&j.validate?(0,s.funcKeywordCode)(C,j):"macro"in j?(0,s.macroKeywordCode)(C,j):(j.compile||j.validate)&&(0,s.funcKeywordCode)(C,j)}const D=/^\/(?:[^~]|~0|~1)*$/,H=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function G(p,{dataLevel:b,dataNames:j,dataPathArr:k}){let C,U;if(p==="")return d.default.rootData;if(p[0]==="/"){if(!D.test(p))throw new Error(`Invalid JSON-pointer: ${p}`);C=p,U=d.default.rootData}else{const fe=H.exec(p);if(!fe)throw new Error(`Invalid JSON-pointer: ${p}`);const se=+fe[1];if(C=fe[2],C==="#"){if(se>=b)throw new Error(le("property/index",se));return k[b-se]}if(se>b)throw new Error(le("data",se));if(U=j[b-se],!C)return U}let ae=U;const we=C.split("/");for(const fe of we)fe&&(U=(0,o._)`${U}${(0,o.getProperty)((0,l.unescapeJsonPointer)(fe))}`,ae=(0,o._)`${ae} && ${U}`);return ae;function le(fe,se){return`Cannot access ${fe} ${se} levels up, current level is ${b}`}}return Se.getData=G,Se}var vt={},An;function st(){if(An)return vt;An=1,Object.defineProperty(vt,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return vt.default=e,vt}var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});const ar=re;class js extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,ar.resolveUrl)(t,r,n),this.missingSchema=(0,ar.normalizeId)((0,ar.getFullPath)(t,this.missingRef))}}Ie.default=js;var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.resolveSchema=ce.getCompilingSchema=ce.resolveRef=ce.compileSchema=ce.SchemaEnv=void 0;const ge=z,Ns=st(),Ve=me,_e=re,In=I,Os=He();class gt{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,_e.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}ce.SchemaEnv=gt;function sr(e){const t=Tn.call(this,e);if(t)return t;const r=(0,_e.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,i=new ge.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let o;e.$async&&(o=i.scopeValue("Error",{ref:Ns.default,code:(0,ge._)`require("ajv/dist/runtime/validation_error").default`}));const d=i.scopeName("validate");e.validateName=d;const u={gen:i,allErrors:this.opts.allErrors,data:Ve.default.data,parentData:Ve.default.parentData,parentDataProperty:Ve.default.parentDataProperty,dataNames:[Ve.default.data],dataPathArr:[ge.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ge.stringify)(e.schema)}:{ref:e.schema}),validateName:d,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:ge.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ge._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(e),(0,Os.validateFunctionCode)(u),i.optimize(this.opts.code.optimize);const m=i.toString();l=`${i.scopeRefs(Ve.default.scope)}return ${m}`,this.opts.code.process&&(l=this.opts.code.process(l,e));const v=new Function(`${Ve.default.self}`,`${Ve.default.scope}`,l)(this,this.scope.get());if(this.scope.value(d,{ref:v}),v.errors=null,v.schema=e.schema,v.schemaEnv=e,e.$async&&(v.$async=!0),this.opts.code.source===!0&&(v.source={validateName:d,validateCode:m,scopeValues:i._values}),this.opts.unevaluated){const{props:$,items:w}=u;v.evaluated={props:$ instanceof ge.Name?void 0:$,items:w instanceof ge.Name?void 0:w,dynamicProps:$ instanceof ge.Name,dynamicItems:w instanceof ge.Name},v.source&&(v.source.evaluated=(0,ge.stringify)(v.evaluated))}return e.validate=v,e}catch(m){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),m}finally{this._compilations.delete(e)}}ce.compileSchema=sr;function Rs(e,t,r){var n;r=(0,_e.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let s=Is.call(this,e,r);if(s===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;i&&(s=new gt({schema:i,schemaId:o,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=ks.call(this,s)}ce.resolveRef=Rs;function ks(e){return(0,_e.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:sr.call(this,e)}function Tn(e){for(const t of this._compilations)if(As(t,e))return t}ce.getCompilingSchema=Tn;function As(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Is(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||_t.call(this,e,t)}function _t(e,t){const r=this.opts.uriResolver.parse(t),n=(0,_e._getFullPath)(this.opts.uriResolver,r);let a=(0,_e.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return or.call(this,r,e);const s=(0,_e.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const o=_t.call(this,e,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:or.call(this,r,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||sr.call(this,i),s===(0,_e.normalizeId)(t)){const{schema:o}=i,{schemaId:d}=this.opts,u=o[d];return u&&(a=(0,_e.resolveUrl)(this.opts.uriResolver,a,u)),new gt({schema:o,schemaId:d,root:e,baseId:a})}return or.call(this,r,i)}}ce.resolveSchema=_t;const Ts=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function or(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const d=r[(0,In.unescapeFragment)(o)];if(d===void 0)return;r=d;const u=typeof r=="object"&&r[this.opts.schemaId];!Ts.has(o)&&u&&(t=(0,_e.resolveUrl)(this.opts.uriResolver,t,u))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,In.schemaHasRulesButRef)(r,this.RULES)){const o=(0,_e.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=_t.call(this,n,o)}const{schemaId:i}=this.opts;if(s=s||new gt({schema:r,schemaId:i,root:n,baseId:t}),s.schema!==s.root.schema)return s}var Ms={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},ir={},bt={exports:{}},Cs={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}};const{HEX:Ds}=Cs,Vs=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function Mn(e){if(Dn(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(Vs)||[],[r]=t;return r?{host:qs(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function cr(e,t=!1){let r="",n=!0;for(const a of e){if(Ds[a]===void 0)return;a!=="0"&&n===!0&&(n=!1),n||(r+=a)}return t&&r.length===0&&(r="0"),r}function zs(e){let t=0;const r={error:!1,address:"",zone:""},n=[],a=[];let s=!1,i=!1,o=!1;function d(){if(a.length){if(s===!1){const u=cr(a);if(u!==void 0)n.push(u);else return r.error=!0,!1}a.length=0}return!0}for(let u=0;u<e.length;u++){const l=e[u];if(!(l==="["||l==="]"))if(l===":"){if(i===!0&&(o=!0),!d())break;if(t++,n.push(":"),t>7){r.error=!0;break}u-1>=0&&e[u-1]===":"&&(i=!0);continue}else if(l==="%"){if(!d())break;s=!0}else{a.push(l);continue}}return a.length&&(s?r.zone=a.join(""):o?n.push(a.join("")):n.push(cr(a))),r.address=n.join(""),r}function Cn(e){if(Dn(e,":")<2)return{host:e,isIPV6:!1};const t=zs(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,escapedHost:n,isIPV6:!0}}}function qs(e,t){let r="",n=!0;const a=e.length;for(let s=0;s<a;s++){const i=e[s];i==="0"&&n?(s+1<=a&&e[s+1]===t||s+1===a)&&(r+=i,n=!1):(i===t?n=!0:n=!1,r+=i)}return r}function Dn(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const Vn=/^\.\.?\//u,zn=/^\/\.(?:\/|$)/u,qn=/^\/\.\.(?:\/|$)/u,Fs=/^\/?(?:.|\n)*?(?=\/|$)/u;function Ks(e){const t=[];for(;e.length;)if(e.match(Vn))e=e.replace(Vn,"");else if(e.match(zn))e=e.replace(zn,"/");else if(e.match(qn))e=e.replace(qn,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(Fs);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function Us(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Ls(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);const n=Mn(r);if(n.isIPV4)r=n.host;else{const a=Cn(n.host);a.isIPV6===!0?r=`[${a.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var Gs={recomposeAuthority:Ls,normalizeComponentEncoding:Us,removeDotSegments:Ks,normalizeIPv4:Mn,normalizeIPv6:Cn,stringArrayToHexStripped:cr};const Hs=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,Js=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function Fn(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function Kn(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function Un(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Ws(e){return e.secure=Fn(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Bs(e){if((e.port===(Fn(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Zs(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(Js);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const a=`${n}:${t.nid||e.nid}`,s=dr[a];e.path=void 0,s&&(e=s.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Xs(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),a=`${r}:${t.nid||n}`,s=dr[a];s&&(e=s.serialize(e,t));const i=e,o=e.nss;return i.path=`${n||t.nid}:${o}`,t.skipEscape=!0,i}function Ys(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Hs.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Qs(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const Ln={scheme:"http",domainHost:!0,parse:Kn,serialize:Un},xs={scheme:"https",domainHost:Ln.domainHost,parse:Kn,serialize:Un},wt={scheme:"ws",domainHost:!0,parse:Ws,serialize:Bs},eo={scheme:"wss",domainHost:wt.domainHost,parse:wt.parse,serialize:wt.serialize},dr={http:Ln,https:xs,ws:wt,wss:eo,urn:{scheme:"urn",parse:Zs,serialize:Xs,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:Ys,serialize:Qs,skipNormalize:!0}};var to=dr;const{normalizeIPv6:ro,normalizeIPv4:no,removeDotSegments:ot,recomposeAuthority:ao,normalizeComponentEncoding:Et}=Gs,ur=to;function so(e,t){return typeof e=="string"?e=Pe(Oe(e,t),t):typeof e=="object"&&(e=Oe(Pe(e,t),t)),e}function oo(e,t,r){const n=Object.assign({scheme:"null"},r),a=Gn(Oe(e,n),Oe(t,n),n,!0);return Pe(a,{...n,skipEscape:!0})}function Gn(e,t,r,n){const a={};return n||(e=Oe(Pe(e,r),r),t=Oe(Pe(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(a.scheme=t.scheme,a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=ot(t.path||""),a.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=ot(t.path||""),a.query=t.query):(t.path?(t.path.charAt(0)==="/"?a.path=ot(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?a.path="/"+t.path:e.path?a.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:a.path=t.path,a.path=ot(a.path)),a.query=t.query):(a.path=e.path,t.query!==void 0?a.query=t.query:a.query=e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=t.fragment,a}function io(e,t,r){return typeof e=="string"?(e=unescape(e),e=Pe(Et(Oe(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Pe(Et(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Pe(Et(Oe(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Pe(Et(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Pe(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),a=[],s=ur[(n.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&a.push(r.scheme,":");const i=ao(r);if(i!==void 0&&(n.reference!=="suffix"&&a.push("//"),a.push(i),r.path&&r.path.charAt(0)!=="/"&&a.push("/")),r.path!==void 0){let o=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(o=ot(o)),i===void 0&&(o=o.replace(/^\/\//u,"/%2F")),a.push(o)}return r.query!==void 0&&a.push("?",r.query),r.fragment!==void 0&&a.push("#",r.fragment),a.join("")}const co=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function uo(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||co[t])return!0;return!1}const lo=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Oe(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},a=e.indexOf("%")!==-1;let s=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const i=e.match(lo);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host){const d=no(n.host);if(d.isIPV4===!1){const u=ro(d.host);n.host=u.host.toLowerCase(),s=u.isIPV6}else n.host=d.host,s=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const o=ur[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&uo(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(d){n.error=n.error||"Host's domain name can not be converted to ASCII: "+d}(!o||o&&!o.skipNormalize)&&(a&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),a&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const lr={SCHEMES:ur,normalize:so,resolve:oo,resolveComponents:Gn,equal:io,serialize:Pe,parse:Oe};bt.exports=lr,bt.exports.default=lr,bt.exports.fastUri=lr;var fo=bt.exports;Object.defineProperty(ir,"__esModule",{value:!0});const Hn=fo;Hn.code='require("ajv/dist/runtime/uri").default',ir.default=Hn,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=He();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=z;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=st(),a=Ie,s=De,i=ce,o=z,d=re,u=te,l=I,m=Ms,g=ir,v=(A,_)=>new RegExp(A,_);v.code="new RegExp";const $=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},P=200;function N(A){var _,O,E,c,f,S,M,D,H,G,p,b,j,k,C,U,ae,we,le,fe,se,tt,pe,rn,nn;const $t=A.strict,an=(_=A.code)===null||_===void 0?void 0:_.optimize,ja=an===!0||an===void 0?1:an||0,Na=(E=(O=A.code)===null||O===void 0?void 0:O.regExp)!==null&&E!==void 0?E:v,Td=(c=A.uriResolver)!==null&&c!==void 0?c:g.default;return{strictSchema:(S=(f=A.strictSchema)!==null&&f!==void 0?f:$t)!==null&&S!==void 0?S:!0,strictNumbers:(D=(M=A.strictNumbers)!==null&&M!==void 0?M:$t)!==null&&D!==void 0?D:!0,strictTypes:(G=(H=A.strictTypes)!==null&&H!==void 0?H:$t)!==null&&G!==void 0?G:"log",strictTuples:(b=(p=A.strictTuples)!==null&&p!==void 0?p:$t)!==null&&b!==void 0?b:"log",strictRequired:(k=(j=A.strictRequired)!==null&&j!==void 0?j:$t)!==null&&k!==void 0?k:!1,code:A.code?{...A.code,optimize:ja,regExp:Na}:{optimize:ja,regExp:Na},loopRequired:(C=A.loopRequired)!==null&&C!==void 0?C:P,loopEnum:(U=A.loopEnum)!==null&&U!==void 0?U:P,meta:(ae=A.meta)!==null&&ae!==void 0?ae:!0,messages:(we=A.messages)!==null&&we!==void 0?we:!0,inlineRefs:(le=A.inlineRefs)!==null&&le!==void 0?le:!0,schemaId:(fe=A.schemaId)!==null&&fe!==void 0?fe:"$id",addUsedSchema:(se=A.addUsedSchema)!==null&&se!==void 0?se:!0,validateSchema:(tt=A.validateSchema)!==null&&tt!==void 0?tt:!0,validateFormats:(pe=A.validateFormats)!==null&&pe!==void 0?pe:!0,unicodeRegExp:(rn=A.unicodeRegExp)!==null&&rn!==void 0?rn:!0,int32range:(nn=A.int32range)!==null&&nn!==void 0?nn:!0,uriResolver:Td}}class R{constructor(_={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,_=this.opts={..._,...N(_)};const{es5:O,lines:E}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:w,es5:O,lines:E}),this.logger=W(_.logger);const c=_.validateFormats;_.validateFormats=!1,this.RULES=(0,s.getRules)(),T.call(this,y,_,"NOT SUPPORTED"),T.call(this,h,_,"DEPRECATED","warn"),this._metaOpts=K.call(this),_.formats&&ie.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),_.keywords&&V.call(this,_.keywords),typeof _.meta=="object"&&this.addMetaSchema(_.meta),J.call(this),_.validateFormats=c}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:_,meta:O,schemaId:E}=this.opts;let c=m;E==="id"&&(c={...m},c.id=c.$id,delete c.$id),O&&_&&this.addMetaSchema(c,c[E],!1)}defaultMeta(){const{meta:_,schemaId:O}=this.opts;return this.opts.defaultMeta=typeof _=="object"?_[O]||_:void 0}validate(_,O){let E;if(typeof _=="string"){if(E=this.getSchema(_),!E)throw new Error(`no schema with key or ref "${_}"`)}else E=this.compile(_);const c=E(O);return"$async"in E||(this.errors=E.errors),c}compile(_,O){const E=this._addSchema(_,O);return E.validate||this._compileSchemaEnv(E)}compileAsync(_,O){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:E}=this.opts;return c.call(this,_,O);async function c(G,p){await f.call(this,G.$schema);const b=this._addSchema(G,p);return b.validate||S.call(this,b)}async function f(G){G&&!this.getSchema(G)&&await c.call(this,{$ref:G},!0)}async function S(G){try{return this._compileSchemaEnv(G)}catch(p){if(!(p instanceof a.default))throw p;return M.call(this,p),await D.call(this,p.missingSchema),S.call(this,G)}}function M({missingSchema:G,missingRef:p}){if(this.refs[G])throw new Error(`AnySchema ${G} is loaded but ${p} cannot be resolved`)}async function D(G){const p=await H.call(this,G);this.refs[G]||await f.call(this,p.$schema),this.refs[G]||this.addSchema(p,G,O)}async function H(G){const p=this._loading[G];if(p)return p;try{return await(this._loading[G]=E(G))}finally{delete this._loading[G]}}}addSchema(_,O,E,c=this.opts.validateSchema){if(Array.isArray(_)){for(const S of _)this.addSchema(S,void 0,E,c);return this}let f;if(typeof _=="object"){const{schemaId:S}=this.opts;if(f=_[S],f!==void 0&&typeof f!="string")throw new Error(`schema ${S} must be string`)}return O=(0,d.normalizeId)(O||f),this._checkUnique(O),this.schemas[O]=this._addSchema(_,E,O,c,!0),this}addMetaSchema(_,O,E=this.opts.validateSchema){return this.addSchema(_,O,!0,E),this}validateSchema(_,O){if(typeof _=="boolean")return!0;let E;if(E=_.$schema,E!==void 0&&typeof E!="string")throw new Error("$schema must be a string");if(E=E||this.opts.defaultMeta||this.defaultMeta(),!E)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const c=this.validate(E,_);if(!c&&O){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return c}getSchema(_){let O;for(;typeof(O=L.call(this,_))=="string";)_=O;if(O===void 0){const{schemaId:E}=this.opts,c=new i.SchemaEnv({schema:{},schemaId:E});if(O=i.resolveSchema.call(this,c,_),!O)return;this.refs[_]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema(_){if(_ instanceof RegExp)return this._removeAllSchemas(this.schemas,_),this._removeAllSchemas(this.refs,_),this;switch(typeof _){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=L.call(this,_);return typeof O=="object"&&this._cache.delete(O.schema),delete this.schemas[_],delete this.refs[_],this}case"object":{const O=_;this._cache.delete(O);let E=_[this.opts.schemaId];return E&&(E=(0,d.normalizeId)(E),delete this.schemas[E],delete this.refs[E]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(_){for(const O of _)this.addKeyword(O);return this}addKeyword(_,O){let E;if(typeof _=="string")E=_,typeof O=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=E);else if(typeof _=="object"&&O===void 0){if(O=_,E=O.keyword,Array.isArray(E)&&!E.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(x.call(this,E,O),!O)return(0,l.eachItem)(E,f=>ue.call(this,f)),this;xe.call(this,O);const c={...O,type:(0,u.getJSONTypes)(O.type),schemaType:(0,u.getJSONTypes)(O.schemaType)};return(0,l.eachItem)(E,c.type.length===0?f=>ue.call(this,f,c):f=>c.type.forEach(S=>ue.call(this,f,c,S))),this}getKeyword(_){const O=this.RULES.all[_];return typeof O=="object"?O.definition:!!O}removeKeyword(_){const{RULES:O}=this;delete O.keywords[_],delete O.all[_];for(const E of O.rules){const c=E.rules.findIndex(f=>f.keyword===_);c>=0&&E.rules.splice(c,1)}return this}addFormat(_,O){return typeof O=="string"&&(O=new RegExp(O)),this.formats[_]=O,this}errorsText(_=this.errors,{separator:O=", ",dataVar:E="data"}={}){return!_||_.length===0?"No errors":_.map(c=>`${E}${c.instancePath} ${c.message}`).reduce((c,f)=>c+O+f)}$dataMetaSchema(_,O){const E=this.RULES.all;_=JSON.parse(JSON.stringify(_));for(const c of O){const f=c.split("/").slice(1);let S=_;for(const M of f)S=S[M];for(const M in E){const D=E[M];if(typeof D!="object")continue;const{$data:H}=D.definition,G=S[M];H&&G&&(S[M]=et(G))}}return _}_removeAllSchemas(_,O){for(const E in _){const c=_[E];(!O||O.test(E))&&(typeof c=="string"?delete _[E]:c&&!c.meta&&(this._cache.delete(c.schema),delete _[E]))}}_addSchema(_,O,E,c=this.opts.validateSchema,f=this.opts.addUsedSchema){let S;const{schemaId:M}=this.opts;if(typeof _=="object")S=_[M];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof _!="boolean")throw new Error("schema must be object or boolean")}let D=this._cache.get(_);if(D!==void 0)return D;E=(0,d.normalizeId)(S||E);const H=d.getSchemaRefs.call(this,_,E);return D=new i.SchemaEnv({schema:_,schemaId:M,meta:O,baseId:E,localRefs:H}),this._cache.set(D.schema,D),f&&!E.startsWith("#")&&(E&&this._checkUnique(E),this.refs[E]=D),c&&this.validateSchema(_,!0),D}_checkUnique(_){if(this.schemas[_]||this.refs[_])throw new Error(`schema with key or id "${_}" already exists`)}_compileSchemaEnv(_){if(_.meta?this._compileMetaSchema(_):i.compileSchema.call(this,_),!_.validate)throw new Error("ajv implementation error");return _.validate}_compileMetaSchema(_){const O=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,_)}finally{this.opts=O}}}R.ValidationError=n.default,R.MissingRefError=a.default,e.default=R;function T(A,_,O,E="error"){for(const c in A){const f=c;f in _&&this.logger[E](`${O}: option ${c}. ${A[f]}`)}}function L(A){return A=(0,d.normalizeId)(A),this.schemas[A]||this.refs[A]}function J(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const _ in A)this.addSchema(A[_],_)}function ie(){for(const A in this.opts.formats){const _=this.opts.formats[A];_&&this.addFormat(A,_)}}function V(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const _ in A){const O=A[_];O.keyword||(O.keyword=_),this.addKeyword(O)}}function K(){const A={...this.opts};for(const _ of $)delete A[_];return A}const Y={log(){},warn(){},error(){}};function W(A){if(A===!1)return Y;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const B=/^[a-z_$][a-z0-9_$:-]*$/i;function x(A,_){const{RULES:O}=this;if((0,l.eachItem)(A,E=>{if(O.keywords[E])throw new Error(`Keyword ${E} is already defined`);if(!B.test(E))throw new Error(`Keyword ${E} has invalid name`)}),!!_&&_.$data&&!("code"in _||"validate"in _))throw new Error('$data keyword must have "code" or "validate" function')}function ue(A,_,O){var E;const c=_==null?void 0:_.post;if(O&&c)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let S=c?f.post:f.rules.find(({type:D})=>D===O);if(S||(S={type:O,rules:[]},f.rules.push(S)),f.keywords[A]=!0,!_)return;const M={keyword:A,definition:{..._,type:(0,u.getJSONTypes)(_.type),schemaType:(0,u.getJSONTypes)(_.schemaType)}};_.before?Ue.call(this,S,M,_.before):S.rules.push(M),f.all[A]=M,(E=_.implements)===null||E===void 0||E.forEach(D=>this.addKeyword(D))}function Ue(A,_,O){const E=A.rules.findIndex(c=>c.keyword===O);E>=0?A.rules.splice(E,0,_):(A.rules.push(_),this.logger.warn(`rule ${O} is not defined`))}function xe(A){let{metaSchema:_}=A;_!==void 0&&(A.$data&&this.opts.$data&&(_=et(_)),A.validateSchema=this.compile(_,!0))}const pt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function et(A){return{anyOf:[A,pt]}}}(Ee);var fr={},Pt={},mr={};Object.defineProperty(mr,"__esModule",{value:!0});const mo={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};mr.default=mo;var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.callRef=Re.getValidate=void 0;const ho=Ie,Jn=F,de=z,Je=me,Wn=ce,St=I,po={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:s,validateName:i,opts:o,self:d}=n,{root:u}=s;if((r==="#"||r==="#/")&&a===u.baseId)return m();const l=Wn.resolveRef.call(d,u,a,r);if(l===void 0)throw new ho.default(n.opts.uriResolver,a,r);if(l instanceof Wn.SchemaEnv)return g(l);return v(l);function m(){if(s===u)return jt(e,i,s,s.$async);const $=t.scopeValue("root",{ref:u});return jt(e,(0,de._)`${$}.validate`,u,u.$async)}function g($){const w=Bn(e,$);jt(e,w,$,$.$async)}function v($){const w=t.scopeValue("schema",o.code.source===!0?{ref:$,code:(0,de.stringify)($)}:{ref:$}),y=t.name("valid"),h=e.subschema({schema:$,dataTypes:[],schemaPath:de.nil,topSchemaRef:w,errSchemaPath:r},y);e.mergeEvaluated(h),e.ok(y)}}};function Bn(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,de._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Re.getValidate=Bn;function jt(e,t,r,n){const{gen:a,it:s}=e,{allErrors:i,schemaEnv:o,opts:d}=s,u=d.passContext?Je.default.this:de.nil;n?l():m();function l(){if(!o.$async)throw new Error("async schema referenced by sync schema");const $=a.let("valid");a.try(()=>{a.code((0,de._)`await ${(0,Jn.callValidateCode)(e,t,u)}`),v(t),i||a.assign($,!0)},w=>{a.if((0,de._)`!(${w} instanceof ${s.ValidationError})`,()=>a.throw(w)),g(w),i||a.assign($,!1)}),e.ok($)}function m(){e.result((0,Jn.callValidateCode)(e,t,u),()=>v(t),()=>g(t))}function g($){const w=(0,de._)`${$}.errors`;a.assign(Je.default.vErrors,(0,de._)`${Je.default.vErrors} === null ? ${w} : ${Je.default.vErrors}.concat(${w})`),a.assign(Je.default.errors,(0,de._)`${Je.default.vErrors}.length`)}function v($){var w;if(!s.opts.unevaluated)return;const y=(w=r==null?void 0:r.validate)===null||w===void 0?void 0:w.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=St.mergeEvaluated.props(a,y.props,s.props));else{const h=a.var("props",(0,de._)`${$}.evaluated.props`);s.props=St.mergeEvaluated.props(a,h,s.props,de.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=St.mergeEvaluated.items(a,y.items,s.items));else{const h=a.var("items",(0,de._)`${$}.evaluated.items`);s.items=St.mergeEvaluated.items(a,h,s.items,de.Name)}}}Re.callRef=jt,Re.default=po,Object.defineProperty(Pt,"__esModule",{value:!0});const $o=mr,yo=Re,vo=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",$o.default,yo.default];Pt.default=vo;var Nt={},hr={};Object.defineProperty(hr,"__esModule",{value:!0});const Ot=z,Te=Ot.operators,Rt={maximum:{okStr:"<=",ok:Te.LTE,fail:Te.GT},minimum:{okStr:">=",ok:Te.GTE,fail:Te.LT},exclusiveMaximum:{okStr:"<",ok:Te.LT,fail:Te.GTE},exclusiveMinimum:{okStr:">",ok:Te.GT,fail:Te.LTE}},go={message:({keyword:e,schemaCode:t})=>(0,Ot.str)`must be ${Rt[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Ot._)`{comparison: ${Rt[e].okStr}, limit: ${t}}`},_o={keyword:Object.keys(Rt),type:"number",schemaType:"number",$data:!0,error:go,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Ot._)`${r} ${Rt[t].fail} ${n} || isNaN(${r})`)}};hr.default=_o;var pr={};Object.defineProperty(pr,"__esModule",{value:!0});const it=z,bo={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,it.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,it._)`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,s=a.opts.multipleOfPrecision,i=t.let("res"),o=s?(0,it._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,it._)`${i} !== parseInt(${i})`;e.fail$data((0,it._)`(${n} === 0 || (${i} = ${r}/${n}, ${o}))`)}};pr.default=bo;var $r={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});function Zn(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}yr.default=Zn,Zn.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty($r,"__esModule",{value:!0});const ze=z,wo=I,Eo=yr,Po={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,ze.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,ze._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,s=t==="maxLength"?ze.operators.GT:ze.operators.LT,i=a.opts.unicode===!1?(0,ze._)`${r}.length`:(0,ze._)`${(0,wo.useFunc)(e.gen,Eo.default)}(${r})`;e.fail$data((0,ze._)`${i} ${s} ${n}`)}};$r.default=Po;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});const So=F,jo=I,We=z,No={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,We.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,We._)`{pattern: ${e}}`},code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:s,it:i}=e,o=i.opts.unicodeRegExp?"u":"";if(n){const{regExp:d}=i.opts.code,u=d.code==="new RegExp"?(0,We._)`new RegExp`:(0,jo.useFunc)(t,d),l=t.let("valid");t.try(()=>t.assign(l,(0,We._)`${u}(${s}, ${o}).test(${r})`),()=>t.assign(l,!1)),e.fail$data((0,We._)`!${l}`)}else{const d=(0,So.usePattern)(e,a);e.fail$data((0,We._)`!${d}.test(${r})`)}}};vr.default=No;var gr={};Object.defineProperty(gr,"__esModule",{value:!0});const ct=z,Oo={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,ct.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,ct._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?ct.operators.GT:ct.operators.LT;e.fail$data((0,ct._)`Object.keys(${r}).length ${a} ${n}`)}};gr.default=Oo;var _r={};Object.defineProperty(_r,"__esModule",{value:!0});const dt=F,ut=z,Ro=I,ko={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,ut.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,ut._)`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:s,it:i}=e,{opts:o}=i;if(!s&&r.length===0)return;const d=r.length>=o.loopRequired;if(i.allErrors?u():l(),o.strictRequired){const v=e.parentSchema.properties,{definedProperties:$}=e.it;for(const w of r)if((v==null?void 0:v[w])===void 0&&!$.has(w)){const y=i.schemaEnv.baseId+i.errSchemaPath,h=`required property "${w}" is not defined at "${y}" (strictRequired)`;(0,Ro.checkStrictMode)(i,h,i.opts.strictRequired)}}function u(){if(d||s)e.block$data(ut.nil,m);else for(const v of r)(0,dt.checkReportMissingProp)(e,v)}function l(){const v=t.let("missing");if(d||s){const $=t.let("valid",!0);e.block$data($,()=>g(v,$)),e.ok($)}else t.if((0,dt.checkMissingProp)(e,r,v)),(0,dt.reportMissingProp)(e,v),t.else()}function m(){t.forOf("prop",n,v=>{e.setParams({missingProperty:v}),t.if((0,dt.noPropertyInData)(t,a,v,o.ownProperties),()=>e.error())})}function g(v,$){e.setParams({missingProperty:v}),t.forOf(v,n,()=>{t.assign($,(0,dt.propertyInData)(t,a,v,o.ownProperties)),t.if((0,ut.not)($),()=>{e.error(),t.break()})},ut.nil)}}};_r.default=ko;var br={};Object.defineProperty(br,"__esModule",{value:!0});const lt=z,Ao={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,lt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,lt._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?lt.operators.GT:lt.operators.LT;e.fail$data((0,lt._)`${r}.length ${a} ${n}`)}};br.default=Ao;var wr={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});const Xn=Sn;Xn.code='require("ajv/dist/runtime/equal").default',ft.default=Xn,Object.defineProperty(wr,"__esModule",{value:!0});const Er=te,ne=z,Io=I,To=ft,Mo={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,ne.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,ne._)`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:s,schemaCode:i,it:o}=e;if(!n&&!a)return;const d=t.let("valid"),u=s.items?(0,Er.getSchemaTypes)(s.items):[];e.block$data(d,l,(0,ne._)`${i} === false`),e.ok(d);function l(){const $=t.let("i",(0,ne._)`${r}.length`),w=t.let("j");e.setParams({i:$,j:w}),t.assign(d,!0),t.if((0,ne._)`${$} > 1`,()=>(m()?g:v)($,w))}function m(){return u.length>0&&!u.some($=>$==="object"||$==="array")}function g($,w){const y=t.name("item"),h=(0,Er.checkDataTypes)(u,y,o.opts.strictNumbers,Er.DataType.Wrong),P=t.const("indices",(0,ne._)`{}`);t.for((0,ne._)`;${$}--;`,()=>{t.let(y,(0,ne._)`${r}[${$}]`),t.if(h,(0,ne._)`continue`),u.length>1&&t.if((0,ne._)`typeof ${y} == "string"`,(0,ne._)`${y} += "_"`),t.if((0,ne._)`typeof ${P}[${y}] == "number"`,()=>{t.assign(w,(0,ne._)`${P}[${y}]`),e.error(),t.assign(d,!1).break()}).code((0,ne._)`${P}[${y}] = ${$}`)})}function v($,w){const y=(0,Io.useFunc)(t,To.default),h=t.name("outer");t.label(h).for((0,ne._)`;${$}--;`,()=>t.for((0,ne._)`${w} = ${$}; ${w}--;`,()=>t.if((0,ne._)`${y}(${r}[${$}], ${r}[${w}])`,()=>{e.error(),t.assign(d,!1).break(h)})))}}};wr.default=Mo;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});const Sr=z,Co=I,Do=ft,Vo={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,Sr._)`{allowedValue: ${e}}`},code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Sr._)`!${(0,Co.useFunc)(t,Do.default)}(${r}, ${a})`):e.fail((0,Sr._)`${s} !== ${r}`)}};Pr.default=Vo;var jr={};Object.defineProperty(jr,"__esModule",{value:!0});const mt=z,zo=I,qo=ft,Fo={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,mt._)`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:s,it:i}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=i.opts.loopEnum;let d;const u=()=>d??(d=(0,zo.useFunc)(t,qo.default));let l;if(o||n)l=t.let("valid"),e.block$data(l,m);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const v=t.const("vSchema",s);l=(0,mt.or)(...a.map(($,w)=>g(v,w)))}e.pass(l);function m(){t.assign(l,!1),t.forOf("v",s,v=>t.if((0,mt._)`${u()}(${r}, ${v})`,()=>t.assign(l,!0).break()))}function g(v,$){const w=a[$];return typeof w=="object"&&w!==null?(0,mt._)`${u()}(${r}, ${v}[${$}])`:(0,mt._)`${r} === ${w}`}}};jr.default=Fo,Object.defineProperty(Nt,"__esModule",{value:!0});const Ko=hr,Uo=pr,Lo=$r,Go=vr,Ho=gr,Jo=_r,Wo=br,Bo=wr,Zo=Pr,Xo=jr,Yo=[Ko.default,Uo.default,Lo.default,Go.default,Ho.default,Jo.default,Wo.default,Bo.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Zo.default,Xo.default];Nt.default=Yo;var kt={},Be={};Object.defineProperty(Be,"__esModule",{value:!0}),Be.validateAdditionalItems=void 0;const qe=z,Nr=I,Qo={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,qe.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,qe._)`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Nr.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Yn(e,n)}};function Yn(e,t){const{gen:r,schema:n,data:a,keyword:s,it:i}=e;i.items=!0;const o=r.const("len",(0,qe._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,qe._)`${o} <= ${t.length}`);else if(typeof n=="object"&&!(0,Nr.alwaysValidSchema)(i,n)){const u=r.var("valid",(0,qe._)`${o} <= ${t.length}`);r.if((0,qe.not)(u),()=>d(u)),e.ok(u)}function d(u){r.forRange("i",t.length,o,l=>{e.subschema({keyword:s,dataProp:l,dataPropType:Nr.Type.Num},u),i.allErrors||r.if((0,qe.not)(u),()=>r.break())})}}Be.validateAdditionalItems=Yn,Be.default=Qo;var Or={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.validateTuple=void 0;const Qn=z,At=I,xo=F,ei={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return xn(e,"additionalItems",t);r.items=!0,!(0,At.alwaysValidSchema)(r,t)&&e.ok((0,xo.validateArray)(e))}};function xn(e,t,r=e.schema){const{gen:n,parentSchema:a,data:s,keyword:i,it:o}=e;l(a),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=At.mergeEvaluated.items(n,r.length,o.items));const d=n.name("valid"),u=n.const("len",(0,Qn._)`${s}.length`);r.forEach((m,g)=>{(0,At.alwaysValidSchema)(o,m)||(n.if((0,Qn._)`${u} > ${g}`,()=>e.subschema({keyword:i,schemaProp:g,dataProp:g},d)),e.ok(d))});function l(m){const{opts:g,errSchemaPath:v}=o,$=r.length,w=$===m.minItems&&($===m.maxItems||m[t]===!1);if(g.strictTuples&&!w){const y=`"${i}" is ${$}-tuple, but minItems or maxItems/${t} are not specified or different at path "${v}"`;(0,At.checkStrictMode)(o,y,g.strictTuples)}}}Ze.validateTuple=xn,Ze.default=ei,Object.defineProperty(Or,"__esModule",{value:!0});const ti=Ze,ri={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,ti.validateTuple)(e,"items")};Or.default=ri;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});const ea=z,ni=I,ai=F,si=Be,oi={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,ea.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ea._)`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,ni.alwaysValidSchema)(n,t)&&(a?(0,si.validateAdditionalItems)(e,a):e.ok((0,ai.validateArray)(e)))}};Rr.default=oi;var kr={};Object.defineProperty(kr,"__esModule",{value:!0});const he=z,It=I,ii={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>t===void 0?(0,he.str)`must contain at least ${e} valid item(s)`:(0,he.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,he._)`{minContains: ${e}}`:(0,he._)`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;let i,o;const{minContains:d,maxContains:u}=n;s.opts.next?(i=d===void 0?1:d,o=u):i=1;const l=t.const("len",(0,he._)`${a}.length`);if(e.setParams({min:i,max:o}),o===void 0&&i===0){(0,It.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,It.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,It.alwaysValidSchema)(s,r)){let w=(0,he._)`${l} >= ${i}`;o!==void 0&&(w=(0,he._)`${w} && ${l} <= ${o}`),e.pass(w);return}s.items=!0;const m=t.name("valid");o===void 0&&i===1?v(m,()=>t.if(m,()=>t.break())):i===0?(t.let(m,!0),o!==void 0&&t.if((0,he._)`${a}.length > 0`,g)):(t.let(m,!1),g()),e.result(m,()=>e.reset());function g(){const w=t.name("_valid"),y=t.let("count",0);v(w,()=>t.if(w,()=>$(y)))}function v(w,y){t.forRange("i",0,l,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:It.Type.Num,compositeRule:!0},w),y()})}function $(w){t.code((0,he._)`${w}++`),o===void 0?t.if((0,he._)`${w} >= ${i}`,()=>t.assign(m,!0).break()):(t.if((0,he._)`${w} > ${o}`,()=>t.assign(m,!1).break()),i===1?t.assign(m,!0):t.if((0,he._)`${w} >= ${i}`,()=>t.assign(m,!0)))}}};kr.default=ii;var Tt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=z,r=I,n=F;e.error={message:({params:{property:d,depsCount:u,deps:l}})=>{const m=u===1?"property":"properties";return(0,t.str)`must have ${m} ${l} when property ${d} is present`},params:({params:{property:d,depsCount:u,deps:l,missingProperty:m}})=>(0,t._)`{property: ${d},
    missingProperty: ${m},
    depsCount: ${u},
    deps: ${l}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(d){const[u,l]=s(d);i(d,u),o(d,l)}};function s({schema:d}){const u={},l={};for(const m in d){if(m==="__proto__")continue;const g=Array.isArray(d[m])?u:l;g[m]=d[m]}return[u,l]}function i(d,u=d.schema){const{gen:l,data:m,it:g}=d;if(Object.keys(u).length===0)return;const v=l.let("missing");for(const $ in u){const w=u[$];if(w.length===0)continue;const y=(0,n.propertyInData)(l,m,$,g.opts.ownProperties);d.setParams({property:$,depsCount:w.length,deps:w.join(", ")}),g.allErrors?l.if(y,()=>{for(const h of w)(0,n.checkReportMissingProp)(d,h)}):(l.if((0,t._)`${y} && (${(0,n.checkMissingProp)(d,w,v)})`),(0,n.reportMissingProp)(d,v),l.else())}}e.validatePropertyDeps=i;function o(d,u=d.schema){const{gen:l,data:m,keyword:g,it:v}=d,$=l.name("valid");for(const w in u)(0,r.alwaysValidSchema)(v,u[w])||(l.if((0,n.propertyInData)(l,m,w,v.opts.ownProperties),()=>{const y=d.subschema({keyword:g,schemaProp:w},$);d.mergeValidEvaluated(y,$)},()=>l.var($,!0)),d.ok($))}e.validateSchemaDeps=o,e.default=a})(Tt);var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});const ta=z,ci=I,di={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,ta._)`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,ci.alwaysValidSchema)(a,r))return;const s=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),t.if((0,ta.not)(s),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(s)}};Ar.default=di;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});const Ct=F,be=z,ui=me,Dt=I,li={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,be._)`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:s,it:i}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:d}=i;if(i.props=!0,d.removeAdditional!=="all"&&(0,Dt.alwaysValidSchema)(i,r))return;const u=(0,Ct.allSchemaProperties)(n.properties),l=(0,Ct.allSchemaProperties)(n.patternProperties);m(),e.ok((0,be._)`${s} === ${ui.default.errors}`);function m(){t.forIn("key",a,y=>{!u.length&&!l.length?$(y):t.if(g(y),()=>$(y))})}function g(y){let h;if(u.length>8){const P=(0,Dt.schemaRefOrVal)(i,n.properties,"properties");h=(0,Ct.isOwnProperty)(t,P,y)}else u.length?h=(0,be.or)(...u.map(P=>(0,be._)`${y} === ${P}`)):h=be.nil;return l.length&&(h=(0,be.or)(h,...l.map(P=>(0,be._)`${(0,Ct.usePattern)(e,P)}.test(${y})`))),(0,be.not)(h)}function v(y){t.code((0,be._)`delete ${a}[${y}]`)}function $(y){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){v(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,Dt.alwaysValidSchema)(i,r)){const h=t.name("valid");d.removeAdditional==="failing"?(w(y,h,!1),t.if((0,be.not)(h),()=>{e.reset(),v(y)})):(w(y,h),o||t.if((0,be.not)(h),()=>t.break()))}}function w(y,h,P){const N={keyword:"additionalProperties",dataProp:y,dataPropType:Dt.Type.Str};P===!1&&Object.assign(N,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(N,h)}}};Mt.default=li;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});const fi=He(),ra=F,Tr=I,na=Mt,mi={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&na.default.code(new fi.KeywordCxt(s,na.default,"additionalProperties"));const i=(0,ra.allSchemaProperties)(r);for(const m of i)s.definedProperties.add(m);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=Tr.mergeEvaluated.props(t,(0,Tr.toHash)(i),s.props));const o=i.filter(m=>!(0,Tr.alwaysValidSchema)(s,r[m]));if(o.length===0)return;const d=t.name("valid");for(const m of o)u(m)?l(m):(t.if((0,ra.propertyInData)(t,a,m,s.opts.ownProperties)),l(m),s.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(m),e.ok(d);function u(m){return s.opts.useDefaults&&!s.compositeRule&&r[m].default!==void 0}function l(m){e.subschema({keyword:"properties",schemaProp:m,dataProp:m},d)}}};Ir.default=mi;var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});const aa=F,Vt=z,sa=I,oa=I,hi={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:s}=e,{opts:i}=s,o=(0,aa.allSchemaProperties)(r),d=o.filter(w=>(0,sa.alwaysValidSchema)(s,r[w]));if(o.length===0||d.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const u=i.strictSchema&&!i.allowMatchingProperties&&a.properties,l=t.name("valid");s.props!==!0&&!(s.props instanceof Vt.Name)&&(s.props=(0,oa.evaluatedPropsToName)(t,s.props));const{props:m}=s;g();function g(){for(const w of o)u&&v(w),s.allErrors?$(w):(t.var(l,!0),$(w),t.if(l))}function v(w){for(const y in u)new RegExp(w).test(y)&&(0,sa.checkStrictMode)(s,`property ${y} matches pattern ${w} (use allowMatchingProperties)`)}function $(w){t.forIn("key",n,y=>{t.if((0,Vt._)`${(0,aa.usePattern)(e,w)}.test(${y})`,()=>{const h=d.includes(w);h||e.subschema({keyword:"patternProperties",schemaProp:w,dataProp:y,dataPropType:oa.Type.Str},l),s.opts.unevaluated&&m!==!0?t.assign((0,Vt._)`${m}[${y}]`,!0):!h&&!s.allErrors&&t.if((0,Vt.not)(l),()=>t.break())})})}}};Mr.default=hi;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});const pi=I,$i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,pi.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Cr.default=$i;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});const yi={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:F.validateUnion,error:{message:"must match a schema in anyOf"}};Dr.default=yi;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});const zt=z,vi=I,gi={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,zt._)`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=r,i=t.let("valid",!1),o=t.let("passing",null),d=t.name("_valid");e.setParams({passing:o}),t.block(u),e.result(i,()=>e.reset(),()=>e.error(!0));function u(){s.forEach((l,m)=>{let g;(0,vi.alwaysValidSchema)(a,l)?t.var(d,!0):g=e.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},d),m>0&&t.if((0,zt._)`${d} && ${i}`).assign(i,!1).assign(o,(0,zt._)`[${o}, ${m}]`).else(),t.if(d,()=>{t.assign(i,!0),t.assign(o,m),g&&e.mergeEvaluated(g,zt.Name)})})}}};Vr.default=gi;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});const _i=I,bi={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((s,i)=>{if((0,_i.alwaysValidSchema)(n,s))return;const o=e.subschema({keyword:"allOf",schemaProp:i},a);e.ok(a),e.mergeEvaluated(o)})}};zr.default=bi;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});const qt=z,ia=I,wi={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,qt.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,qt._)`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,ia.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=ca(n,"then"),s=ca(n,"else");if(!a&&!s)return;const i=t.let("valid",!0),o=t.name("_valid");if(d(),e.reset(),a&&s){const l=t.let("ifClause");e.setParams({ifClause:l}),t.if(o,u("then",l),u("else",l))}else a?t.if(o,u("then")):t.if((0,qt.not)(o),u("else"));e.pass(i,()=>e.error(!0));function d(){const l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(l)}function u(l,m){return()=>{const g=e.subschema({keyword:l},o);t.assign(i,o),e.mergeValidEvaluated(g,i),m?t.assign(m,(0,qt._)`${l}`):e.setParams({ifClause:l})}}}};function ca(e,t){const r=e.schema[t];return r!==void 0&&!(0,ia.alwaysValidSchema)(e,r)}qr.default=wi;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});const Ei=I,Pi={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Ei.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Fr.default=Pi,Object.defineProperty(kt,"__esModule",{value:!0});const Si=Be,ji=Or,Ni=Ze,Oi=Rr,Ri=kr,ki=Tt,Ai=Ar,Ii=Mt,Ti=Ir,Mi=Mr,Ci=Cr,Di=Dr,Vi=Vr,zi=zr,qi=qr,Fi=Fr;function Ki(e=!1){const t=[Ci.default,Di.default,Vi.default,zi.default,qi.default,Fi.default,Ai.default,Ii.default,ki.default,Ti.default,Mi.default];return e?t.push(ji.default,Oi.default):t.push(Si.default,Ni.default),t.push(Ri.default),t}kt.default=Ki;var Ft={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.dynamicAnchor=void 0;const Kr=z,Ui=me,da=ce,Li=Re,Gi={keyword:"$dynamicAnchor",schemaType:"string",code:e=>ua(e,e.schema)};function ua(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const a=(0,Kr._)`${Ui.default.dynamicAnchors}${(0,Kr.getProperty)(t)}`,s=n.errSchemaPath==="#"?n.validateName:Hi(e);r.if((0,Kr._)`!${a}`,()=>r.assign(a,s))}Xe.dynamicAnchor=ua;function Hi(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:a,baseId:s,localRefs:i,meta:o}=t.root,{schemaId:d}=n.opts,u=new da.SchemaEnv({schema:r,schemaId:d,root:a,baseId:s,localRefs:i,meta:o});return da.compileSchema.call(n,u),(0,Li.getValidate)(e,u)}Xe.default=Gi;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.dynamicRef=void 0;const la=z,Ji=me,fa=Re,Wi={keyword:"$dynamicRef",schemaType:"string",code:e=>ma(e,e.schema)};function ma(e,t){const{gen:r,keyword:n,it:a}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const s=t.slice(1);if(a.allErrors)i();else{const d=r.let("valid",!1);i(d),e.ok(d)}function i(d){if(a.schemaEnv.root.dynamicAnchors[s]){const u=r.let("_v",(0,la._)`${Ji.default.dynamicAnchors}${(0,la.getProperty)(s)}`);r.if(u,o(u,d),o(a.validateName,d))}else o(a.validateName,d)()}function o(d,u){return u?()=>r.block(()=>{(0,fa.callRef)(e,d),r.let(u,!0)}):()=>(0,fa.callRef)(e,d)}}Ye.dynamicRef=ma,Ye.default=Wi;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});const Bi=Xe,Zi=I,Xi={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,Bi.dynamicAnchor)(e,""):(0,Zi.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};Ur.default=Xi;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});const Yi=Ye,Qi={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,Yi.dynamicRef)(e,e.schema)};Lr.default=Qi,Object.defineProperty(Ft,"__esModule",{value:!0});const xi=Xe,ec=Ye,tc=Ur,rc=Lr,nc=[xi.default,ec.default,tc.default,rc.default];Ft.default=nc;var Kt={},Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});const ha=Tt,ac={keyword:"dependentRequired",type:"object",schemaType:"object",error:ha.error,code:e=>(0,ha.validatePropertyDeps)(e)};Gr.default=ac;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});const sc=Tt,oc={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,sc.validateSchemaDeps)(e)};Hr.default=oc;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});const ic=I,cc={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,ic.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};Jr.default=cc,Object.defineProperty(Kt,"__esModule",{value:!0});const dc=Gr,uc=Hr,lc=Jr,fc=[dc.default,uc.default,lc.default];Kt.default=fc;var Ut={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});const Me=z,pa=I,mc=me,hc={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:e})=>(0,Me._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},code(e){const{gen:t,schema:r,data:n,errsCount:a,it:s}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:i,props:o}=s;o instanceof Me.Name?t.if((0,Me._)`${o} !== true`,()=>t.forIn("key",n,m=>t.if(u(o,m),()=>d(m)))):o!==!0&&t.forIn("key",n,m=>o===void 0?d(m):t.if(l(o,m),()=>d(m))),s.props=!0,e.ok((0,Me._)`${a} === ${mc.default.errors}`);function d(m){if(r===!1){e.setParams({unevaluatedProperty:m}),e.error(),i||t.break();return}if(!(0,pa.alwaysValidSchema)(s,r)){const g=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:m,dataPropType:pa.Type.Str},g),i||t.if((0,Me.not)(g),()=>t.break())}}function u(m,g){return(0,Me._)`!${m} || !${m}[${g}]`}function l(m,g){const v=[];for(const $ in m)m[$]===!0&&v.push((0,Me._)`${g} !== ${$}`);return(0,Me.and)(...v)}}};Wr.default=hc;var Br={};Object.defineProperty(Br,"__esModule",{value:!0});const Fe=z,$a=I,pc={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:e}})=>(0,Fe.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Fe._)`{limit: ${e}}`},code(e){const{gen:t,schema:r,data:n,it:a}=e,s=a.items||0;if(s===!0)return;const i=t.const("len",(0,Fe._)`${n}.length`);if(r===!1)e.setParams({len:s}),e.fail((0,Fe._)`${i} > ${s}`);else if(typeof r=="object"&&!(0,$a.alwaysValidSchema)(a,r)){const d=t.var("valid",(0,Fe._)`${i} <= ${s}`);t.if((0,Fe.not)(d),()=>o(d,s)),e.ok(d)}a.items=!0;function o(d,u){t.forRange("i",u,i,l=>{e.subschema({keyword:"unevaluatedItems",dataProp:l,dataPropType:$a.Type.Num},d),a.allErrors||t.if((0,Fe.not)(d),()=>t.break())})}}};Br.default=pc,Object.defineProperty(Ut,"__esModule",{value:!0});const $c=Wr,yc=Br,vc=[$c.default,yc.default];Ut.default=vc;var Lt={},Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});const ee=z,gc={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,ee.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ee._)`{format: ${e}}`},code(e,t){const{gen:r,data:n,$data:a,schema:s,schemaCode:i,it:o}=e,{opts:d,errSchemaPath:u,schemaEnv:l,self:m}=o;if(!d.validateFormats)return;a?g():v();function g(){const $=r.scopeValue("formats",{ref:m.formats,code:d.code.formats}),w=r.const("fDef",(0,ee._)`${$}[${i}]`),y=r.let("fType"),h=r.let("format");r.if((0,ee._)`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>r.assign(y,(0,ee._)`${w}.type || "string"`).assign(h,(0,ee._)`${w}.validate`),()=>r.assign(y,(0,ee._)`"string"`).assign(h,w)),e.fail$data((0,ee.or)(P(),N()));function P(){return d.strictSchema===!1?ee.nil:(0,ee._)`${i} && !${h}`}function N(){const R=l.$async?(0,ee._)`(${w}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,ee._)`${h}(${n})`,T=(0,ee._)`(typeof ${h} == "function" ? ${R} : ${h}.test(${n}))`;return(0,ee._)`${h} && ${h} !== true && ${y} === ${t} && !${T}`}}function v(){const $=m.formats[s];if(!$){P();return}if($===!0)return;const[w,y,h]=N($);w===t&&e.pass(R());function P(){if(d.strictSchema===!1){m.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function N(T){const L=T instanceof RegExp?(0,ee.regexpCode)(T):d.code.formats?(0,ee._)`${d.code.formats}${(0,ee.getProperty)(s)}`:void 0,J=r.scopeValue("formats",{key:s,ref:T,code:L});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,ee._)`${J}.validate`]:["string",T,J]}function R(){if(typeof $=="object"&&!($ instanceof RegExp)&&$.async){if(!l.$async)throw new Error("async format in sync schema");return(0,ee._)`await ${h}(${n})`}return typeof y=="function"?(0,ee._)`${h}(${n})`:(0,ee._)`${h}.test(${n})`}}}};Zr.default=gc,Object.defineProperty(Lt,"__esModule",{value:!0});const _c=[Zr.default];Lt.default=_c;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.contentVocabulary=Ke.metadataVocabulary=void 0,Ke.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Ke.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(fr,"__esModule",{value:!0});const bc=Pt,wc=Nt,Ec=kt,Pc=Ft,Sc=Kt,jc=Ut,Nc=Lt,ya=Ke,Oc=[Pc.default,bc.default,wc.default,(0,Ec.default)(!0),Nc.default,ya.metadataVocabulary,ya.contentVocabulary,Sc.default,jc.default];fr.default=Oc;var ht={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.DiscrError=void 0;var va;(function(e){e.Tag="tag",e.Mapping="mapping"})(va||(Gt.DiscrError=va={})),Object.defineProperty(ht,"__esModule",{value:!0});const Qe=z,Xr=Gt,ga=ce,Rc=Ie,kc=I,Ac={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===Xr.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Qe._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:s}=e,{oneOf:i}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),u=t.const("tag",(0,Qe._)`${r}${(0,Qe.getProperty)(o)}`);t.if((0,Qe._)`typeof ${u} == "string"`,()=>l(),()=>e.error(!1,{discrError:Xr.DiscrError.Tag,tag:u,tagName:o})),e.ok(d);function l(){const v=g();t.if(!1);for(const $ in v)t.elseIf((0,Qe._)`${u} === ${$}`),t.assign(d,m(v[$]));t.else(),e.error(!1,{discrError:Xr.DiscrError.Mapping,tag:u,tagName:o}),t.endIf()}function m(v){const $=t.name("valid"),w=e.subschema({keyword:"oneOf",schemaProp:v},$);return e.mergeEvaluated(w,Qe.Name),$}function g(){var v;const $={},w=h(a);let y=!0;for(let R=0;R<i.length;R++){let T=i[R];if(T!=null&&T.$ref&&!(0,kc.schemaHasRulesButRef)(T,s.self.RULES)){const J=T.$ref;if(T=ga.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,J),T instanceof ga.SchemaEnv&&(T=T.schema),T===void 0)throw new Rc.default(s.opts.uriResolver,s.baseId,J)}const L=(v=T==null?void 0:T.properties)===null||v===void 0?void 0:v[o];if(typeof L!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);y=y&&(w||h(T)),P(L,R)}if(!y)throw new Error(`discriminator: "${o}" must be required`);return $;function h({required:R}){return Array.isArray(R)&&R.includes(o)}function P(R,T){if(R.const)N(R.const,T);else if(R.enum)for(const L of R.enum)N(L,T);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function N(R,T){if(typeof R!="string"||R in $)throw new Error(`discriminator: "${o}" values must be unique strings`);$[R]=T}}}};ht.default=Ac;var Yr={},Ic={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/schema",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],type:["object","boolean"],$comment:"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",properties:{definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}}},Tc={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/applicator":!0},$dynamicAnchor:"meta",title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}}},Mc={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/unevaluated",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},$dynamicAnchor:"meta",title:"Unevaluated applicator vocabulary meta-schema",type:["object","boolean"],properties:{unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}}},Cc={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/content",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}}},Dc={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/core",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0},$dynamicAnchor:"meta",title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},$defs:{anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}}},Vc={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/format-annotation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},$dynamicAnchor:"meta",title:"Format vocabulary meta-schema for annotation results",type:["object","boolean"],properties:{format:{type:"string"}}},zc={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},$dynamicAnchor:"meta",title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}},qc={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/validation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/validation":!0},$dynamicAnchor:"meta",title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}};Object.defineProperty(Yr,"__esModule",{value:!0});const Fc=Ic,Kc=Tc,Uc=Mc,Lc=Cc,Gc=Dc,Hc=Vc,Jc=zc,Wc=qc,Bc=["/properties"];function Zc(e){return[Fc,Kc,Uc,Lc,Gc,t(this,Hc),Jc,t(this,Wc)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,Bc):n}}Yr.default=Zc,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2020=void 0;const r=Ee,n=fr,a=ht,s=Yr,i="https://json-schema.org/draft/2020-12/schema";class o extends r.default{constructor(v={}){super({...v,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:v,meta:$}=this.opts;$&&(s.default.call(this,v),this.refs["http://json-schema.org/schema"]=i)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.Ajv2020=o,e.exports=t=o,e.exports.Ajv2020=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var d=He();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var u=z;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var l=st();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return l.default}});var m=Ie;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})}(ye,ye.exports);var Xc=ye.exports,Yc=$e(Xc),Qr={exports:{}},Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});const Qc=Pt,xc=Nt,ed=kt,td=Lt,_a=Ke,rd=[Qc.default,xc.default,(0,ed.default)(),td.default,_a.metadataVocabulary,_a.contentVocabulary];Ht.default=rd;var xr={},nd={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/schema",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],type:["object","boolean"],properties:{definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}}},ad={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/applicator":!0},$recursiveAnchor:!0,title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}}},sd={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/content",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}}},od={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/core",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0},$recursiveAnchor:!0,title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}}},id={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/format",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/format":!0},$recursiveAnchor:!0,title:"Format vocabulary meta-schema",type:["object","boolean"],properties:{format:{type:"string"}}},cd={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},$recursiveAnchor:!0,title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}},dd={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/validation",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/validation":!0},$recursiveAnchor:!0,title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}};Object.defineProperty(xr,"__esModule",{value:!0});const ud=nd,ld=ad,fd=sd,md=od,hd=id,pd=cd,$d=dd,yd=["/properties"];function vd(e){return[ud,ld,fd,md,t(this,hd),pd,t(this,$d)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,yd):n}}xr.default=vd,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2019=void 0;const r=Ee,n=Ht,a=Ft,s=Kt,i=Ut,o=ht,d=xr,u="https://json-schema.org/draft/2019-09/schema";class l extends r.default{constructor(y={}){super({...y,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(a.default),n.default.forEach(y=>this.addVocabulary(y)),this.addVocabulary(s.default),this.addVocabulary(i.default),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:y,meta:h}=this.opts;h&&(d.default.call(this,y),this.refs["http://json-schema.org/schema"]=u)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv2019=l,e.exports=t=l,e.exports.Ajv2019=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var m=He();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return m.KeywordCxt}});var g=z;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return g._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return g.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return g.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return g.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return g.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return g.CodeGen}});var v=st();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return v.default}});var $=Ie;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return $.default}})}(Qr,Qr.exports);var gd=Qr.exports,_d=$e(gd),en={exports:{}},bd={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Ee,n=Ht,a=ht,s=bd,i=["/properties"],o="http://json-schema.org/draft-07/schema";class d extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach($=>this.addVocabulary($)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const $=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema($,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv=d,e.exports=t=d,e.exports.Ajv=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var u=He();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var l=z;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var m=st();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return m.default}});var g=Ie;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return g.default}})})(en,en.exports);var ba=en.exports,wa=$e(ba),wd=Object.prototype.hasOwnProperty,Ed=Object.prototype.toString,Pd=function(t,r,n){if(Ed.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var a=t.length;if(a===+a)for(var s=0;s<a;s++)r.call(n,t[s],s,t);else for(var i in t)wd.call(t,i)&&r.call(n,t[i],i,t)},Sd=Pd,jd=X;function X(e,t,r){if(arguments.length===3)return X.set(e,t,r);if(arguments.length===2)return X.get(e,t);var n=X.bind(X,e);for(var a in X)X.hasOwnProperty(a)&&(n[a]=X[a].bind(n,e));return n}X.get=function(t,r){for(var n=Array.isArray(r)?r:X.parse(r),a=0;a<n.length;++a){var s=n[a];if(!(typeof t=="object"&&s in t))throw new Error("Invalid reference token: "+s);t=t[s]}return t},X.set=function(t,r,n){var a=Array.isArray(r)?r:X.parse(r),s=a[0];if(a.length===0)throw Error("Can not set the root object");for(var i=0;i<a.length-1;++i){var o=a[i];typeof o!="string"&&typeof o!="number"&&(o=String(o)),!(o==="__proto__"||o==="constructor"||o==="prototype")&&(o==="-"&&Array.isArray(t)&&(o=t.length),s=a[i+1],o in t||(s.match(/^(\d+|-)$/)?t[o]=[]:t[o]={}),t=t[o])}return s==="-"&&Array.isArray(t)&&(s=t.length),t[s]=n,this},X.remove=function(e,t){var r=Array.isArray(t)?t:X.parse(t),n=r[r.length-1];if(n===void 0)throw new Error('Invalid JSON pointer for remove: "'+t+'"');var a=X.get(e,r.slice(0,-1));if(Array.isArray(a)){var s=+n;if(n===""&&isNaN(s))throw new Error('Invalid array index: "'+n+'"');Array.prototype.splice.call(a,s,1)}else delete a[n]},X.dict=function(t,r){var n={};return X.walk(t,function(a,s){n[s]=a},r),n},X.walk=function(t,r,n){var a=[];n=n||function(s){var i=Object.prototype.toString.call(s);return i==="[object Object]"||i==="[object Array]"},function s(i){Sd(i,function(o,d){a.push(String(d)),n(o)?s(o):r(o,X.compile(a)),a.pop()})}(t)},X.has=function(t,r){try{X.get(t,r)}catch{return!1}return!0},X.escape=function(t){return t.toString().replace(/~/g,"~0").replace(/\//g,"~1")},X.unescape=function(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")},X.parse=function(t){if(t==="")return[];if(t.charAt(0)!=="/")throw new Error("Invalid JSON pointer: "+t);return t.substring(1).split(/\//).map(X.unescape)},X.compile=function(t){return t.length===0?"":"/"+t.map(X.escape).join("/")};var Nd=$e(jd);function Ea(e){return Nd.compile(e.map(t=>t.toString()))}const Od="topLevelSchema";function Rd(e){const t={strict:!1,allErrors:!0};if(typeof e!="object")return new wa(t);switch(e.$schema){case"https://json-schema.org/draft/2020-12/schema":case"https://json-schema.org/draft/2020-12/schema#":return new Yc(t);case"https://json-schema.org/draft/2019-09/schema":case"https://json-schema.org/draft/2019-09/schema#":return new _d(t);default:return new wa(t)}}function kd(e){return e.$id??Od}class Jt{constructor(t){sn(this,"valid");sn(this,"errors");this.valid=t.length==0,this.errors=t}filterForPath(t){const r=Ea(t),n=this.errors.filter(a=>{const s=a.instancePath;return s===r||s.startsWith(r+"/")});return new Jt(n)}filterForExactPath(t){const r=Ea(t),n=this.errors.filter(a=>a.instancePath==r);return new Jt(n)}isValidAtPath(t){return this.filterForPath(t).valid}}var tn={exports:{}},Pa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(V,K){return{validate:V,compare:K}}e.fullFormats={date:t(s,i),time:t(d,u),"date-time":t(m,g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:w,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:ie,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:h,int32:{type:"number",validate:R},int64:{type:"number",validate:T},float:{type:"number",validate:L},double:{type:"number",validate:L},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(V){return V%4===0&&(V%100!==0||V%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(V){const K=n.exec(V);if(!K)return!1;const Y=+K[1],W=+K[2],B=+K[3];return W>=1&&W<=12&&B>=1&&B<=(W===2&&r(Y)?29:a[W])}function i(V,K){if(V&&K)return V>K?1:V<K?-1:0}const o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function d(V,K){const Y=o.exec(V);if(!Y)return!1;const W=+Y[1],B=+Y[2],x=+Y[3],ue=Y[5];return(W<=23&&B<=59&&x<=59||W===23&&B===59&&x===60)&&(!K||ue!=="")}function u(V,K){if(!(V&&K))return;const Y=o.exec(V),W=o.exec(K);if(Y&&W)return V=Y[1]+Y[2]+Y[3]+(Y[4]||""),K=W[1]+W[2]+W[3]+(W[4]||""),V>K?1:V<K?-1:0}const l=/t|\s/i;function m(V){const K=V.split(l);return K.length===2&&s(K[0])&&d(K[1],!0)}function g(V,K){if(!(V&&K))return;const[Y,W]=V.split(l),[B,x]=K.split(l),ue=i(Y,B);if(ue!==void 0)return ue||u(W,x)}const v=/\/|:/,$=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function w(V){return v.test(V)&&$.test(V)}const y=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function h(V){return y.lastIndex=0,y.test(V)}const P=-(2**31),N=2**31-1;function R(V){return Number.isInteger(V)&&V<=N&&V>=P}function T(V){return Number.isInteger(V)}function L(){return!0}const J=/[^\\]\\Z/;function ie(V){if(J.test(V))return!1;try{return new RegExp(V),!0}catch{return!1}}})(Pa);var Sa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=ba,r=z,n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:o,schemaCode:d})=>r.str`should be ${a[o].okStr} ${d}`,params:({keyword:o,schemaCode:d})=>r._`{comparison: ${a[o].okStr}, limit: ${d}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(o){const{gen:d,data:u,schemaCode:l,keyword:m,it:g}=o,{opts:v,self:$}=g;if(!v.validateFormats)return;const w=new t.KeywordCxt(g,$.RULES.all.format.definition,"format");w.$data?y():h();function y(){const N=d.scopeValue("formats",{ref:$.formats,code:v.code.formats}),R=d.const("fmt",r._`${N}[${w.schemaCode}]`);o.fail$data(r.or(r._`typeof ${R} != "object"`,r._`${R} instanceof RegExp`,r._`typeof ${R}.compare != "function"`,P(R)))}function h(){const N=w.schema,R=$.formats[N];if(!R||R===!0)return;if(typeof R!="object"||R instanceof RegExp||typeof R.compare!="function")throw new Error(`"${m}": format "${N}" does not define "compare" function`);const T=d.scopeValue("formats",{key:N,ref:R,code:v.code.formats?r._`${v.code.formats}${r.getProperty(N)}`:void 0});o.fail$data(P(T))}function P(N){return r._`${N}.compare(${u}, ${l}) ${a[m].fail} 0`}},dependencies:["format"]};const i=o=>(o.addKeyword(e.formatLimitDefinition),o);e.default=i})(Sa),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pa,n=Sa,a=z,s=new a.Name("fullFormats"),i=new a.Name("fastFormats"),o=(u,l={keywords:!0})=>{if(Array.isArray(l))return d(u,l,r.fullFormats,s),u;const[m,g]=l.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,s],v=l.formats||r.formatNames;return d(u,v,m,g),l.keywords&&n.default(u),u};o.get=(u,l="full")=>{const g=(l==="fast"?r.fastFormats:r.fullFormats)[u];if(!g)throw new Error(`Unknown format "${u}"`);return g};function d(u,l,m,g){var v,$;(v=($=u.opts.code).formats)!==null&&v!==void 0||($.formats=a._`require("ajv-formats/dist/formats").${g}`);for(const w of l)u.addFormat(w,m[w])}e.exports=t=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}(tn,tn.exports);var Ad=tn.exports,Id=$e(Ad);self.onmessage=function(e){const{type:t,data:r,schema:n,taskId:a}=e.data;if(t==="VALIDATE")try{const s=Rd(n);Id(s);const i=kd(n);s.addSchema(n,i);const o=s.getSchema(i);if(!o){const m={type:"VALIDATION_ERROR",error:"Invalid schema provided",taskId:a};self.postMessage(m);return}o(r);const d=o.errors||[];d.length>0&&console.debug("Validation errors:",d);const l={type:"VALIDATION_COMPLETE",result:new Jt(d),taskId:a};self.postMessage(l)}catch(s){const i={type:"VALIDATION_ERROR",error:s instanceof Error?s.message:"Unknown validation error",taskId:a};self.postMessage(i)}},self.onerror=function(e){console.error("Worker error:",e)}})();
